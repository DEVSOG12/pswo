<!DOCTYPE html>
<html lang="en">
     <!-- begin::Head -->
         <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="author" content="TechyDevs">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>
                    Cart 
            </title>
    <!-- Favicon -->
    <link rel="icon" href="https://collegeofwooster.trufflestg.com/media/web_template/favicon/1967969398.png">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">  
    
    <!-- Template CSS Files -->
   
    <link rel="stylesheet" href="https://collegeofwooster.trufflestg.com/assets-website/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://collegeofwooster.trufflestg.com/assets-website/css/line-awesome.min.css">
    <link rel="stylesheet" href="https://collegeofwooster.trufflestg.com/assets-website/css/owl.carousel.min.css">
    <link rel="stylesheet" href="https://collegeofwooster.trufflestg.com/assets-website/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="https://collegeofwooster.trufflestg.com/assets-website/css/animated-headline.css">
    <link rel="stylesheet" href="https://collegeofwooster.trufflestg.com/assets-website/css/jquery-ui.css">
    <link rel="stylesheet" href="https://collegeofwooster.trufflestg.com/assets-website/css/jquery.fancybox.css">
    <link rel="stylesheet" href="https://collegeofwooster.trufflestg.com/assets-website/css/chosen.min.css">
    <link rel="stylesheet" href="https://collegeofwooster.trufflestg.com/assets-website/css/style.css"> 
    <link rel="stylesheet" href="https://collegeofwooster.trufflestg.com/assets-website/css/my-style.css">
    <link rel="stylesheet" type="text/css" href="https://collegeofwooster.trufflestg.com/assets-website/css/Rposwebstyle.css">
    <link rel="shortcut icon" href="https://collegeofwooster.trufflestg.com/assets-website/images/logo/site-icon.png" />
</head>    <!-- end::Head -->

    <!-- begin::Body -->
    <body style="--theme-bgcolor: #000000; --btn-border-color: #af272a; --btn-font-color: #ffffff; --header-bg-color: #000000; --footer-bg-color: #140900; --btn-bg-color: #af272a; --btn-bg-hover-color: #ffffff; --btn-font-hover-color: #ffffff; --btn-border-hover-color: #ffffff; --header-link-color: #ffffff; --header-link-hover-color: #ffffff; --footer-link-color: #ffffff; --footer-link-hover-color : #ffffff; --headerimg-opacity : 0; --headerimg-opacity-color : #ffffff;">
           
        
        <header class="header-area">
    <div class="header-top-bar bg-dark-opacity py-2 padding-right-30px padding-left-30px">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-6 d-flex align-items-center justify-content-start header-top-info">
                    <span class="mr-2 text-white font-weight-normal font-size-14">Follow  on:</span>
                                        <ul class="social-profile social-profile-colored">
                                                <li class="mr-2"><a href="javascript:void(0);" class="facebook-bg"><i class="lab la-facebook-f d-flex justify-content-center align-items-center"></i></a></li>
                                                                        <li class="mr-2"><a href="javascript:void(0);" class="twitter-bg"><i class="lab la-twitter d-flex justify-content-center align-items-center"></i></a></li>
                                                                        <li><a href="javascript:void(0);" class="instagram-bg d-flex justify-content-center align-items-center"><i class="lab la-instagram"></i></a></li>
                                                <!-- <li><a href="javascript:void(0)" class="dribbble-bg"><i class="la la-dribbble"></i></a></li> -->
                    </ul>
                </div>
            </div><!-- end row -->
        </div><!-- end container-fluid -->
    </div><!-- end header-top-bar -->
   
    <div class="header-menu-wrapper padding-right-30px padding-left-30px">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <div class="menu-full-width justify-content-between my-3">
                        <div class="logo"> 
                              <!-- <a href="#"><img src="" alt="logo"></a> -->
                            <a href="https://collegeofwooster.trufflestg.com/home"><img src="https://collegeofwooster.trufflestg.com/media/web_template/restaurant_logo/1648891499.png" width="150" height="40" alt="logo"></a>
                            <div class="d-flex align-items-center"> 
                                
                         
                              
                                <div class="menu-toggle">
                                    <span class="menu__bar"></span>
                                    <span class="menu__bar"></span>
                                    <span class="menu__bar"></span>
                                </div><!-- end menu-toggle -->
                            </div>
                        </div><!-- end logo -->
                        <div class="quick-search-form d-flex align-items-center">
                                                        <form action="https://collegeofwooster.trufflestg.com/search-data" class="w-100">
                                <div class="header-search position-relative d-flex align-items-center">
                                    <i class="la la-search form-icon"></i>
                                    <input type="search" id="search" name="string" placeholder="Search" value="">
                                    <div class="instant-results">
                                      
                                    </div>

                                </div>


                        </div><!-- end quick-search-form -->
                        <div class="d-flex justify-content-between align-items-center d-none-under992 menu-search-btn">
                            <div class="btn-box mr-2">
                                <button type="submit" id="" class="theme-btn">Search
                                </button>

                            </div>
                            </form>
                                                                                    <div class="">
                                <a href="https://collegeofwooster.trufflestg.com/branch-location" id="" class="theme-btn">Select Branch
                                </a>
                            </div>
                                                    </div>
                        <div class="main-menu-content">
                            <nav class="main-menu">
                                <ul>
                                                                    
                                    <li>
                                        <a href="https://collegeofwooster.trufflestg.com/home">Home</a>
                                    </li>
                                    
                                    <li>
                                        <a href="https://collegeofwooster.trufflestg.com/cms/about-us">About Us</a>
                                    </li> 

                                    <!-- <li>
                                        <a href="#">Pages</a>
                                    </li> -->

                                    <li>
                                        <a href="https://collegeofwooster.trufflestg.com/cms/help-and-support">Help</a>
                                    </li> 

                                                                   
                                    
                                         



                                        

                                        <li class="onlymobile">
                                        <a href="https://collegeofwooster.trufflestg.com/edit-pro">Profile</a>
                                    </li>

                                             

                                       

                                        <li class="onlymobile">
                                        <a href="https://collegeofwooster.trufflestg.com/change-password"> Change Password</a>
                                    </li>

                                             


                                             

                                        <li class="onlymobile">
                                        <a href="https://collegeofwooster.trufflestg.com/logout">Logout</a>
                                        </li>

                                            

                                   <!--      

                                          


                                          -->


                                                                        <li class="cart-menu">
                                        <a href="https://collegeofwooster.trufflestg.com/view-cart"> <i class="las la-shopping-cart mr-2"></i>

                                                                                                                                        (1)
                                            
                                        </a>
                                    </li>
                                                                                                            <li class="cart-menu">
                                        <a href="https://collegeofwooster.trufflestg.com/user-notification"> <i class="las las la-bell mr-2"></i>
                                                                                        (4)
                                                                                    </a>
                                    </li>
                                                                        <li class="nav-item dropdown pl-0 ml-0 profile-menus">
                                        <a class="nav-link dropdown-toggle after-none d-flex" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                                                                        <div class="user-thumb user-thumb-sm position-relative">
                                                                                                <img src="https://collegeofwooster.trufflestg.com/media/userimage/site-default-img.png">

                                                <div class="status-indicator bg-success"></div>
                                            </div>
                                                                                        <span class="ml-2 small font-weight-medium d-none d-flex" style="align-items: center;">Oreofe Solarin</span>
                                                                                        

                                                                                        <!-- <span class="ml-2 small font-weight-medium d-none d-lg-inline"></span> -->
                                            
                                        </a>

                                         

                                                                                <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right animated--grow-in py-2" aria-labelledby="userDropdown">
                                            <a class="dropdown-item text-color font-size-15" href="https://collegeofwooster.trufflestg.com/edit-pro">
                                                <i class="la la-user mr-2 text-gray font-size-18"></i>
                                                Profile
                                            </a>
                                            <a class="dropdown-item text-color font-size-15" href="https://collegeofwooster.trufflestg.com/change-password">
                                                <i class="la la-lock mr-2 text-gray font-size-18"></i>
                                                Change Password
                                            </a>
                                            <!-- <a class="dropdown-item text-color font-size-15" href="dashboard-booking.html">
                                                <i class="la la-shopping-bag mr-2 text-gray font-size-18"></i>
                                                Bookings
                                            </a>
                                            <a class="dropdown-item text-color font-size-15" href="dashboard-bookmark.html">
                                                <i class="la la-bookmark mr-2 text-gray font-size-18"></i>
                                                Bookmarks
                                            </a>
                                            <a class="dropdown-item text-color font-size-15" href="add-listing.html">
                                                <i class="la la-plus-circle mr-2 text-gray font-size-18"></i>
                                                Add Listing
                                            </a> -->
                                            <a class="dropdown-item text-color font-size-15" href="https://collegeofwooster.trufflestg.com/logout">
                                                <i class="la la-power-off mr-2 text-gray font-size-18"></i>
                                                Sign Out
                                            </a>
                                        </div>
                                                                            </li>
                                </ul>
                            </nav> 

                             <div class="mobile-searchnew">
                                 <form action="https://collegeofwooster.trufflestg.com/search-data" class="w-100">
                                    <div class="mobile-searchbox">
                                   <div class="header-search position-relative d-flex align-items-center">
                                     <i class="la la-search form-icon"></i>
                                     <input type="search" id="search" name="string" placeholder="Search">
                                     <div class="instant-results"></div>
                                   </div>
                                   
                                   <!-- end quick-search-form -->
                                   <div class="d-flex justify-content-between align-items-center  menu-search-btn">
                                     <div class="btn-box mr-2">
                                       <button type="submit" id="" class="btn btn-primary font-weight-bolder font-size-h6 px-8 w-4">Search </button>
                                     </div>
                                 </div> 
                                   </div>
                                 </form>  

                                </div>
                            <div class="d-flex justify-content-between align-items-center  mt-4">
                               <!--  <div class="btn-box mr-2 w-50">
                                    <button type="submit" id="" class="btn btn-primary font-weight-bolder font-size-h6 px-8 w-4">Search
                                    </button>

                                </div> -->
                                <div class="mobile-selectbranch">

                                    <a href="https://collegeofwooster.trufflestg.com/branch-location" id="" class="btn btn-primary font-weight-bolder font-size-h6 px-8 w-4">Select Branch
                                    </a>

                                </div>
                            </div>
                        </div><!-- end main-menu-content -->
                        <div class="nav-right-content d-flex align-items-center">
                                                        <!-- <a href="#" class="theme-btn gradient-btn shadow-none add-listing-btn-hide">
                                <i class="la la-user-plus mr-2"></i>My Profile
                            </a> -->
                        </div>
                        <!-- end nav-right-content -->
                    </div><!-- end menu-full-width -->
                </div>
                <div class="d-flex justify-content-between align-items-center only1023 w-100 mb-3 menu-search-btn">
                    <div class="btn-box mr-2">
                        <button type="submit" id="" class="btn btn-primary font-weight-bolder font-size-h6 px-8 w-4">Search
                        </button>

                    </div>
                    <div class="">

                        <a href="https://collegeofwooster.trufflestg.com/branch-location" id="" class="btn btn-primary font-weight-bolder font-size-h6 px-8 w-4">Select Branch
                        </a>

                    </div>
                </div><!-- end col-lg-12 -->
            </div><!-- end row -->
        </div><!-- end container-fluid -->
    </div><!-- end header-menu-wrapper -->
</header>
        
                
        <section class="breadcrumb-area bread-bg bread-overlay overflow-hidden" style="background-image: url(https://collegeofwooster.trufflestg.com/media/web_template/home_header/1287728128.png);">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <style type="text/css">
   .kt-form__help{
      color: red;
   }.food-notes {
      font-size: 20px;
   }
</style>
<div class="breadcrumb-content d-flex flex-column align-items-center justify-content-center">
   <div class="section-heading">
      <h2 class="sec__title text-white font-size-40 mb-0">Cart</h2>
   </div>
   <ul class="list-items bread-list">
      <li><a href="https://collegeofwooster.trufflestg.com/home">Home</a></li>
      <li>Cart</li>
   </ul>
</div>
<!-- end breadcrumb-content -->
            </div>
        </div>
    </div>
</section>
<!-- start main-content -->
<main class="site-main login-areabox">
    <style type="text/css">
   #pageloader {
   background: rgba(255, 255, 255, 0.8);
   display: none;
   height: 100%;
   position: fixed;
   width: 100%;
   z-index: 9999;
   top: 0;
   }
   #pageloader .loader-box {
   position: absolute;
   height: 100%;
   width: 100%;
   display: flex;
   justify-content: center;
   align-items: center;
   z-index: 999;
   }
   /*#pageloader img {
   left: 50%;
   margin-left: 0px;
   margin-top: 0px;
   position: absolute;
   top: 0%;
   }*/
   /* Chrome, Safari, Edge, Opera */
   input::-webkit-outer-spin-button,
   input::-webkit-inner-spin-button {
   -webkit-appearance: none;
   margin: 0;
   }
   /* Firefox */
   input[type=number] {
   -moz-appearance: textfield;
   }
   .bill-details{
    font-size: 14px;
    color: black;
    font-weight: 450;
    padding-right: 4px;
    padding-left: 4px;
   }
   .input-icon{
      float: right;
       margin-right: 11px;
       margin-top: -32px;
       position: relative;
   }
</style>
<link rel="stylesheet" type="text/css" href="https://collegeofwooster.trufflestg.com/assets-frontend/css/intlTelInput.css"/>

<div id="pageloader">
   <div class="loader-box">
      <img src="https://collegeofwooster.trufflestg.com/media/loader-large.gif" alt="processing..." />
   </div>
</div>
<section class="booking-area section--padding">
   <div class="container">
      <div class="row">
         <div class="col-lg-8">
            <div class="block-card mb-4">
               <div class="block-card-header d-flex align-items-center justify-content-between">
                  <div>
                  <h3 class="widget-title">Personal Details </h3>
                  <div class="stroke-shape"></div> 
               </div>
               <div class="develiery-typebx"> 
                  <label class="label-text mr-2">Order Type</label>
                                    <!--<div class="custom-control custom-radio custom-control-inline">
                        <input type="radio" name="selectTypeOrder" class="custom-control-input" value="Delivery" id="customRadio1" checked="checked">
                        <label class="custom-control-label font-weight-bold" for="customRadio1">Delivery</label>
                  </div> 
                  <div class="custom-control custom-radio custom-control-inline">
                     <input type="radio" name="selectTypeOrder" class="custom-control-input" value="Take Away" id="customRadio2">
                     <label class="custom-control-label font-weight-bold" for="customRadio2">Pickup</label>
                  </div>--> 
                   <div class="btn-group deliverytype-btn">
                     
                                                                     <button type="button" id="selectTypeP" value="Take Away" class="btn btn-primary active">Take Out</button>
                                                             
                   </div>
                                 </div>

            </div>
                           <!-- block-card-header -->
               <div class="block-card-body">
                  <form method="post" class="form-box row">
                     <div class="col-lg-6">
                        <div class="input-box">
                           <label class="label-text">First Name<span style="color:red;">*</span></label>
                           <div class="form-group">
                              <span class="la la-user form-icon"></span>
                              <input class="form-control form-control-styled" name="first_name" id="first_name" type="text"
                                 placeholder="Enter First Name" value="Oreofe">
                              <span id="error_msg_first_name"></span>
                           </div>
                        </div>
                     </div>
                     <div class="col-lg-6">
                        <div class="input-box">
                           <label class="label-text">Last Name<span style="color:red;">*</span></label>
                           <div class="form-group">
                              <span class="la la-user form-icon"></span>
                              <input class="form-control form-control-styled" name="last_name" id="last_name" type="text"
                                 placeholder="Enter Last Name" value="Solarin">
                              <span id="error_msg_last_name"></span>
                           </div>
                        </div>
                     </div>
                     <div class="col-lg-6">
                        <div class="input-box">
                           <label class="label-text">Email Address</label>
                           <div class="form-group">
                              <span class="la la-envelope form-icon"></span>
                              <input class="form-control form-control-styled " type="email" id="email" name="email"
                                 placeholder="Enter Email address" value="osolarin26@wooster.edu">
                              <span id="error_msg_main_email"></span>
                           </div>
                        </div>
                     </div>
                     <div class="col-lg-6">
                        <div class="input-box">
                           <label class="label-text">Phone<span style="color:red;">*</span></label>
                           <div class="form-group">
                              <span class="la la-phone form-icon"></span>
                              <input class="form-control form-control-styled" type="text" name="text" id="phonenumber" maxlength="16"
                                 placeholder="Enter Phone Number" value="+17408038357"
                                 oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"
                                 onkeypress='return event.charCode >= 48 && event.charCode <= 57' >
                                 <input type="hidden" name="country_code_name" id="country_code_name" value="" />
                                 <input type="hidden" name="country_code" id="country_code" value=""/>
                              <span id="error_msg_main_phone"></span>
                           </div>
                        </div>
                     </div>
                     
                 
                   

                                           <div class="col-lg-6" id="hide_pick_up">
                        <div class="input-box">
                           <label class="label-text">Zip Code / Postal Code<span style="color:red;">*</span></label>
                           <div class="form-group">
                              <span class="la la-map-marker-alt form-icon"></span>
                              <input class="form-control form-control-styled " type="text" name="zipcode"
                                 placeholder="Enter Zip Code / Postal Code" value="" id="zipcode" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="30">
                              <span id="error_msg_zipcode"></span>
                           </div>
                        </div>
                     </div>
                                          
                     
                    
                     

                                                                        
                           
                                                               <div class="col-lg-10" id="hide_delivery">
                                    <div class="input-box">
                                       <label class="label-text">Add Address<span style="color:red;">*</span></label>
                                       <div class="form-group">
                                          <span class="la la-map-marker-alt form-icon"></span>
                                          <input class="form-control form-control-styled" type="text" name="address"
                                             placeholder="Please Add Address" id="address" value="">
                                          <span id="error_msg_add_address"></span>
                                       </div>
                                    </div>
                                 </div>
                                                           
                                                                                    <div class="col-lg-2" id="hide_save">
                              <label class="label-text">&nbsp;</label>
                                 <div class="input-box">
                                    <button type="button" id="add-address"  class="theme-btn">Save</button>
                                 </div>
                              </div>
                                                

                     
                                                                                 <div class="col-lg-6">
                                    <div class="input-box">
                                       <label class="label-text" id="box-text"></label>
                                       <div class="form-group site-timepicker">
                                          <span class="la la-calendar form-icon"></span>
                                          <input placeholder="please Select Date" id="datepicker1" type="text" value="01/30/2023" class="form-control form-control-styled demo-date">
                                       </div>
                                    </div> 
                              </div>
                              <div class="col-lg-6">
                                    <div class="input-box" style="padding-top: 27px;">
                                       <div class="form-group site-timepicker">
                                          <span class="la la-clock form-icon"></span>
                                          <input id="timepicker1" value="23:37" type="text" class="form-control form-control-styled">
                                           <span id="error_msg_timepick"></span>
                                       </div>
                                       
                                    </div>
                              </div>
                                                                                             <!-- end col-lg-6 -->
                     <!-- end col-lg-6 -->
                  </form>
               </div>
               <!-- end block-card-body -->
            </div>
            <!-- end block-card -->

            <div class="block-card mb-4 mb-xl-0 mb-lg-0">
                <div class="block-card-header ">
                        <h3 class="widget-title">Proceed to Payment</h3>
                        <div class="stroke-shape"></div>
                    </div><!-- block-card-header -->
               <form  method="POST" id="placeOrderForm">
                  <div class="block-card-body">
                     <input type="hidden" name="_token" value="0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR">                     <input type="hidden" name="restaurant_id" id="restaurant_id" value="300" />
                     <input type="hidden" name="branch_id" id="menu_name" value="139" />
                     <input type="hidden" name="createguestaccount" id="createguestaccount" value="" />
                     <input type="hidden" name="guest_email" id="guest_email" value="" />
                     <input type="hidden" id="get_cur_time" value="23:37" />
                     <input type="hidden" id="curntDateN" value="01/30/2023" />
                      
                           
                           <input type="hidden" name="order_type" id="orderType" value="Take Away" />
                           
                                          <input type="hidden" name="address_id" id="user_address" value="" />
                                                                                                                                                                                                                                                                                 <input type="hidden" name="delivery_cost" id="delivery_cost" value="0">
                                                                                                                                                                        <input type="hidden" name="menu_id[]" id="menu_id" value="4199" />
                     <input type="hidden" name="simple_cart_id[]" id="simple_cart_id" value="25622" />
                     <input type="hidden" name="discount_price[]" id="discount_price_41991"
                        value="0.25" />
                     <input type="hidden" name="item_qty[]" id="item_qty_41991"
                        value="1" />
                     <input type="hidden" name="item_total[]" id="item_total_41991"
                        value="0.25" />
                     <input type="hidden" name="menu_tax[]" id="menu_tax_41991"
                        value="0" />
                     <input type="hidden" name="serving_size_id[]" id="serving_size_id_41991"
                        value="1213" />
                     <input type="hidden" name="menu_price[]" id="menu_price41991"
                        value="0.25" />
                                                                                                                                                                                                                  <input type="hidden" name="sub_total" id="sub_total" value="0.25" />
                     <input type="hidden" name="final_item_total" id="item_total" value="0.25" />
                     <input type="hidden" name="extra_charges" id="extra_charges" value="0" />
                     <input type="hidden" name="discount" id="discount" value="0" />
                     <input type="hidden" name="tax_amount" id="tax_amount" value="0" />
                     <input type="hidden" name="promocode_id" id="promocode_id" value="" />
                     <input type="hidden" name="promocode" id="promocode" value="" />
                     <input type="hidden" name="promocode_amount" id="promocode_amount" value="0" />
                     <input type="hidden" name="giftcardid" id="giftcardid" value="" />
                     <input type="hidden" name="giftcardamount" id="giftcardamount" value="0" />
                     <input type="hidden" name="tip" id="tip_amt" value="0" />
                     <input type="hidden" name="loyalty_amount" id="loyalty_amount" value="0" />
                     <input type="hidden" name="total_amount" id="total_amount" value="0.25" />

                     <input type="hidden" name="paymenttype" id="paymenttype" value="Online" />
                     <input type="hidden" name="reststd" id="reststd" value="" />
                     <!--  <input type="hidden" name="comboitem[]" id="comboitem[]" value="0"/> -->
                                          <!-- confirmation popup start -->
                                          <div class="modal fade" id="ConfirmModal">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                          <div class="modal-content">
                           <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLongTitle">Choose Payment Type</h5>
                              <button type="button" class="close close_btn" data-dismiss="modal">×</button>
                           </div>
                            <div class="modal-body form-box justify-content-center d-flex">
                                                            <a href="javascript:void(0)" data-toggle="modal" id="paymentpopup" class="theme-btn mr-3">Pay Now</a>
                                                                                         
                            </div> 
                            <div class="modal-footer justify-content-between">
                                                                  <button type="button" class="theme-btn" data-dismiss="modal">Close</button>
                            </div>
                          </div>
                        </div>
                      </div>
                                                                  <div class="modal fade" id="ConfirmModalGuest">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                          <div class="modal-content">
                           <div class="modal-header">
                                 <h5 class="modal-title" id="">Payment Type</h5>
                                 <button type="button" class="close close_btn" data-dismiss="modal">&times;</button>
                              </div>
                            <div class="modal-body  text-center">                             
                             
                                 <a href="javascript:void(0)" data-toggle="modal" id="paymentpopup" class="theme-btn">Pay Now</a>
                                                                                                                                                                                                
                             
                            </div> 
                            <div class="modal-footer">  
                                <button type="button" class="theme-btn" data-dismiss="modal">Close</button>
                            </div>
                           </div>
                        </div>
                      </div>
                                           <!-- confirmation popup end -->

                     <!-- payment popup start -->
                     <div class="modal fade" id="PaymentModal">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                           <div class="modal-content">
                              <div class="modal-header">
                                 <h5 class="modal-title" id="exampleModalLongTitle">Payment Type</h5>
                                 <button type="button" class="close close_btn" data-dismiss="modal">&times;</button>
                              </div>
                           <div class='form-group row'>
                           </div>
                              <div class="modal-body form-box ">
                              <!-- <span><h5 style="color:red;">Please input billing address</h5></span> -->
               <form class="w-100" method="post" id="categoryform">
               <input type="hidden" name="_token" value="0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR">               <input id="gettoken" type="hidden" name="gettoken" value="y" />
               <input id="addtoken" type="hidden" name="addtoken" value="y" />
               <!-- <input id="firstname" type="hidden" name="firstname" value="y" /> -->
               <!-- <input id="lastname" type="hidden" name="lastname" value="y" /> -->
               <input id="pickupdate" type="hidden" name="pickupdate" value="" />
               <input id="pickuptime" type="hidden" name="pickuptime" value="" />
               <div class="modal-form">
               </div>
               <!--<div class='form-group row'>
                   <div class="col-md-12">
                       <div class="input-box">
                           <label class="label-text">Transaction Token:</label>
                           <div class="form-group">
                                <span class="la la-file-alt  form-icon"></span> -->
                                 <input type="hidden" id="token" class="form-control form-control-styled" name="token" value="" />
                           <!--</div>
                             <span id="error_msg_token"></span>
                        </div>

                  </div>
               </div>
               <div class='form-group row'>
                   <div class="col-md-12">
                       <div class="input-box">
                           <label class="label-text">Merchant TXN ID:</label>
                           <div class="form-group">
                              <span class="la la-user-lock  form-icon"></span>-->
                              <input type="hidden" id="merchanttxnid" class="form-control form-control-styled" name="merchanttxnid" value="" />
                           <!--</div>
                            <span id="error_msg_txn"></span>
                        </div>
                   </div>
               </div> -->

               <div class='form-group row'>
                  <div class="col-md-6">
                     <div class="input-box">
                        <label class="label-text">First Name</label>
                        <div class="form-group">
                           <span class="la la-user form-icon"></span>
                           <input class="form-control form-control-styled " type="text" name="customer_name" id="customer_name" value=""
                           placeholder="Enter First Name" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16" readonly>
                        </div>
                        <span id="error_msg_customer_name"></span>
                     </div>
                  </div>
                  <div class="col-md-6">
                     <div class="input-box">
                     <label class="label-text">Last Name</label>
                        <div class="form-group">
                           <span class="la la-user form-icon"></span>
                           <input class="form-control form-control-styled " type="text" name="lastName" id="lastName"
                           placeholder="Enter Last Name" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16" readonly>
                        </div>
                        <span id="error_msg_lastName"></span>
                     </div>
                  </div>
                  <div class="col-md-6">
                     <div class="input-box">
                          <label class="label-text">Card Number</label>
                          <div class="form-group">
                              <span class="la la-credit-card form-icon"></span>
                              <input class="form-control form-control-styled " oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16" onkeypress='return event.charCode >= 48 && event.charCode <= 57' type="number" name="card" id="card"
                                  placeholder="Enter Card Number">
                          </div>
                           <span id="error_msg_card"></span>

                     </div>
                  </div>

                  <div class="col-md-6">
                     <div class="input-box">
                          <label class="label-text">Expiry Date</label>
                          <div class="form-group">
                              <span class="la la-calendar-check  form-icon"></span>
                              <input class="form-control form-control-styled " type="text" name="exp" id="exp"
                                   maxlength='5' placeholder="MM/YY" onkeydown="formatString(event);">
                          </div>
                           <span id="error_msg_expdate"></span>
                     </div>
                  </div>
                  <div class="col-md-6">
                     <div class="input-box">
                             <label class="label-text">CVV2</label>
                             <div class="form-group">
                                 <span class="la la-cc-mastercard  form-icon"></span>
                                 <input class="form-control form-control-styled " type="number" name="cvv" id="cvv"
                                     placeholder="Enter CVV2" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="4" onkeypress='return event.charCode >= 48 && event.charCode <= 57' type="number">
                             </div>
                              <span id="error_msg_cvv2"></span>
                     </div>
                  </div>

                  <div class="col-md-6">
                     <div class="input-box">
                             <label class="label-text">Amount</label>
                             <div class="form-group">
                                 <span class="la la-dollar  form-icon"></span>
                                 <input class="form-control form-control-styled " type="text" name="pay_final_amount" id="pay_final_amount"
                                     placeholder="Enter Amount" readonly>
                             </div>
                     </div>
                  </div>
                  <!-- <div class="col-md-6 paynowhidefour">
                     <div class="input-box">
                       <label class="label-text">City</label>
                       <div class="form-group">
                           <span class="la la-map-marker-alt form-icon"></span>
                           <input class="form-control form-control-styled " type="text" name="city" id="city" placeholder="Enter City Name" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16">
                       </div>
                        <span id="error_msg_card"></span>
                     </div>
                  </div>
                   <div class="col-md-6 paynowhidefour">
                     <div class="input-box">
                             <label class="label-text">State</label>
                             <div class="form-group">
                                 <span class="la la-map-marker-alt  form-icon"></span>
                                 <input class="form-control form-control-styled " type="text" name="state" id="state" placeholder="Enter State Name" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16">
                             </div>
                              <span id="error_msg_expdate"></span>
                         </div>
                 </div>
                 <div class="col-md-6 paynowhidefour">
                     <div class="input-box">
                             <label class="label-text">Address</label>
                             <div class="form-group">
                                 <span class="la la-map-marker-alt  form-icon"></span>
                                 <input class="form-control form-control-styled " type="text" name="pay_address" id="pay_address" placeholder="Enter Address" readonly>
                             </div>
                              <span id="error_msg_address"></span>
                         </div>
                 </div>
                 <div class="col-md-6 paynowhidefour">
                     <div class="input-box">
                       <label class="label-text">Zip Code / Postal Code</label>
                       <div class="form-group">
                           <span class="la la-map-marker-alt  form-icon"></span>
                           <input class="form-control form-control-styled " type="text" name="zip_code" id="zip_code" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="30" placeholder="Enter Zip Code / Postal Code">
                       </div>
                        <span id="error_msg_zip_code"></span>
                   </div>
                 </div> -->

                 <div class="col-md-6">
                     <div class="input-box">
                     <label class="label-text">Phone Number</label>
                        <div class="form-group">
                           <span class="la la-phone form-icon"></span>
                           <input class="form-control form-control-styled " type="number" name="number" id="number"
                           placeholder="Enter Phone Number" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16" onkeypress='return event.charCode >= 48 && event.charCode <= 57' type="number">
                        </div>
                        <span id="error_msg_number"></span>
                     </div>
                  </div>

            </div>
               <!--   <div class='form-group row'>
                  <div class="col-md-12">
                      <label class=""> Card Number:</label>
                      <input id="card" class='form-control' type="number" name="card" value="" />
                      <span id="error_msg_card"></span>
                  </div>
                  </div>
                  <div class='form-group row'>
                  <div class="col-md-12">
                      <label class="">CVV2:</label>
                       <input id="cvv" class='form-control' type="number" name="cvv" value="">
                       <span id="error_msg_cvv2"></span>
                  </div>
                  </div> -->
               </div>
               <div class="modal-footer">
               <input type="button" onclick="return pay();" class="theme-btn" id="CategoryAdd" value="Pay" />
               <button type="button" class="theme-btn" data-dismiss="modal">Close</button>
               </div>
               </form>
               </div>
               </div>
               </div>
               <!-- payment popup -->
               <!-- Guest payment popup start -->
               <div class="modal fade" id="GuestPaymentModalb">
                   <div class="modal-dialog modal-dialog-centered" role="document">
                       <div class="modal-content">
                           <div class="modal-header">
                               <h5 class="modal-title" id="exampleModalLongTitle">Payment Type</h5>
                               <button type="button" class="close close_btn" data-dismiss="modal">&times;</button>
                           </div>
                           <div class='form-group row'></div>

                           <div class="modal-body form-box ">
                              <!-- start::create new account -->
                              <div class='form-group row'>
                                 <div class="col-md-6">
                                    <div class="input-box">
                                       <div class="form-group">
                                          <input type="checkbox" id="createAccountGuest" name="select"/>
                                          <label class="label-text" style="font-size: large">Create New Account</label>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <!-- end::create new account -->
                              <div class='form-group row'>
                                 <div class="col-md-12">
                                    <div class="input-box">
                                       <div class="form-group">
                                          <label class="label-text">Lorem Ipsum Dolor Sit Amet, Consectetur Adipiscing Elit. Ut Porttitor Eu Sapien Non Porta. Nullam Neque Augue</label>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <!-- end::only order -->
                              <!-- start::only order -->
                              <div class='form-group row'>
                                 <div class="col-md-6">
                                    <div class="input-box">
                                       <div class="form-group" style="display: none;">
                                          <input type="checkbox"  id="justOrderOnly" name="select" checked="checked" />
                                          <label class="label-text">Just order only</label>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <div id="showGuestDetails">
                                 <div class="form-group row">
                                    <div class="col-md-6">
                                       <div class="input-box">
                                          <label class="label-text">First Name</label>
                                          <div class="form-group">
                                             <span class="la la-user form-icon"></span>
                                             <input class="form-control form-control-styled " type="text" name="guest_fname" id="guest_fname" value=""
                                             placeholder="Enter First Name" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16" readonly>
                                          </div>
                                          <span id="error_msg_guest_fname"></span>
                                       </div>
                                    </div>
                                    <div class="col-md-6">
                                       <div class="input-box">
                                       <label class="label-text">Last Name</label>
                                          <div class="form-group">
                                             <span class="la la-user form-icon"></span>
                                             <input class="form-control form-control-styled " type="text" name="guest_lname" id="guest_lname"
                                             placeholder="Enter Last Name" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16" readonly>
                                          </div>
                                          <span id="error_msg_guest_lname"></span>
                                       </div>
                                    </div>
                                    <div class="col-md-6 hide-card-info">
                                       <div class="input-box">
                                            <label class="label-text">Card Number</label>
                                            <div class="form-group">
                                                <span class="la la-credit-card form-icon"></span>
                                                <input class="form-control form-control-styled " oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16" onkeypress='return event.charCode >= 48 && event.charCode <= 57' type="number" name="guest_card" id="guest_card"
                                                    placeholder="Enter Card Number">
                                            </div>
                                             <span id="error_msg_guest_card"></span>

                                       </div>
                                    </div>

                                    <div class="col-md-6 hide-card-info">
                                       <div class="input-box">
                                            <label class="label-text">Expiry Date</label>
                                            <div class="form-group">
                                                <span class="la la-calendar-check  form-icon"></span>
                                                <input class="form-control form-control-styled " type="text" name="guest_exp" id="guest_exp"
                                                     maxlength='5' placeholder="MM/YY" onkeydown="formatString(event);">
                                            </div>
                                             <span id="error_msg_guest_exp_date"></span>
                                       </div>
                                    </div>
                                    <div class="col-md-6 hide-card-info">
                                       <div class="input-box">
                                               <label class="label-text">CVV2</label>
                                               <div class="form-group">
                                                   <span class="la la-cc-mastercard  form-icon"></span>
                                                   <input class="form-control form-control-styled " type="number" name="guest_cvv" id="guest_cvv"
                                                       placeholder="Enter CVV2" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="4" onkeypress='return event.charCode >= 48 && event.charCode <= 57' type="number">
                                               </div>
                                                <span id="error_msg_guest_cvv"></span>
                                       </div>
                                    </div>
                                    <div class="col-md-6">
                                       <div class="input-box">
                                         <label class="label-text">Amount</label>
                                         <div class="form-group">
                                             <span class="la la-dollar  form-icon"></span>
                                             <input class="form-control form-control-styled " type="text" name="pay_guest_final_amount" id="pay_guest_final_amount"
                                                 placeholder="Enter Amount" readonly>
                                         </div>
                                       </div>
                                    </div>
                                    <!-- <div class="col-md-6">
                                       <div class="input-box">
                                         <label class="label-text">City</label>
                                         <div class="form-group">
                                             <span class="la la-map-marker-alt form-icon"></span>
                                             <input class="form-control form-control-styled " type="text" name="guest_city" id="guest_city" placeholder="Enter City Name" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16">
                                         </div>
                                          <span id="error_msg_guest_city"></span>
                                       </div>
                                    </div>
                                     <div class="col-md-6">
                                       <div class="input-box">
                                         <label class="label-text">State</label>
                                         <div class="form-group">
                                             <span class="la la-map-marker-alt  form-icon"></span>
                                             <input class="form-control form-control-styled " type="text" name="guest_state" id="guest_state" placeholder="Enter State Name" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16">
                                         </div>
                                         <span id="error_msg_guest_state"></span>
                                       </div>
                                   </div>
                                   <div class="col-md-6">
                                       <div class="input-box">
                                            <label class="label-text">Address</label>
                                            <div class="form-group">
                                                <span class="la la-map-marker-alt  form-icon"></span>
                                                <input class="form-control form-control-styled " type="text" name="guest_pay_address" id="guest_pay_address" placeholder="Enter Address" readonly>
                                            </div>
                                             <span id="error_msg_guest_pay_address"></span>
                                        </div>
                                   </div>
                                   <div class="col-md-6">
                                       <div class="input-box">
                                         <label class="label-text">Zip Code / Postal Code</label>
                                         <div class="form-group">
                                             <span class="la la-map-marker-alt  form-icon"></span>
                                             <input class="form-control form-control-styled " type="text" name="guest_zip_code" id="guest_zip_code" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="12" placeholder="Enter Zip Code / Postal Code">
                                         </div>
                                          <span id="error_msg_guest_zip_code"></span>
                                     </div>
                                   </div> -->
                                   <div class="col-md-6">
                                       <div class="input-box">
                                       <label class="label-text">Phone Number</label>
                                          <div class="form-group">
                                             <span class="la la-phone form-icon"></span>
                                             <input class="form-control form-control-styled " type="number" name="guest_phone_number" id="guest_phone_number"
                                             placeholder="Enter Phone Number" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="10" onkeypress='return event.charCode >= 48 && event.charCode <= 57' >
                                          </div>
                                          <span id="error_msg_guest_phone_number"></span>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <div id="showGuestReg" style="display:none">
                                 <!-- <div class="form-group row">
                                    <div class="col-md-12">
                                       <div class="input-box">
                                       <label class="label-text">Password</label>
                                          <div class="form-group">
                                             <span class="la la-lock form-icon"></span>
                                            <input id="password" type="password" class="form-control form-control-styled " placeholder="Enter Password" autocomplete="signup-pass" name="password" autocomplete="current-password" data-toggle="password" maxlength="30">
                                             <div class="input-icon">
                                                 <i toggle="#password" class="confirm la la-eye-slash show-password  field-icon toggle-password"></i>
                                             </div>
                                          </div>
                                            <span class="kt-form__help error password"></span>
                                       </div>
                                    </div>
                                 </div>
                                 <div class="form-group row">
                                    <div class="col-md-12">
                                       <div class="input-box">
                                       <label class="label-text">Confirm Password</label>
                                          <div class="form-group">
                                             <span class="la la-lock form-icon"></span>
                                            <input id="confirm_password" type="password" class="form-control form-control-styled " placeholder="Enter Confirm Password" autocomplete="signup-conf-pass" name="confirm_password" autocomplete="current-password" data-toggle="password" maxlength="30">
                                             <div class="input-icon">
                                                 <i toggle="#password" class="la la-eye-slash show-password  field-icon toggle-password-confirm" id="toggle-password12"></i>
                                             </div>
                                          </div>
                                            <span class="kt-form__help error confirm_password"></span>
                                       </div>
                                    </div>
                                 </div> -->
                                 <div class="form-group row">
                                    <div class="col-md-12">
                                       <div class="input-box">
                                          <div class="form-group">
                                            <input type="checkbox" id="signup-remember" name="signup-remember"/> I Agree
                                            <a href="https://collegeofwooster.trufflestg.com/cms/terms-and-condition" target="_blank"  class="color-orange">Terms & Conditions</a> &
                                            <a href="https://collegeofwooster.trufflestg.com/cms/privacy-policy" target="_blank" class="color-orange">Privacy Policy
                                            </a>
                                          </div>
                                            <span class="kt-form__help error signup-remember"></span>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>

                           <div class="modal-footer">
                              <input type="button" class="btn btn-primary" id="guestFormSubmit" value="Submit" />
                              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                           </div>
                       </div>
                   </div>
               </div>
               <!-- Guest payment popup -->
                              <div class="btn-box">
                                                           <input  name="usertype_new" id="usertype_new" type="hidden" value="Y">
                

               <input type="hidden" name="plan_exempt_amountperunit" id="plan_exempt_amountperunit" value="8">
               <input type="hidden" name="totalamount" id="totalAmount" value="0.25">
               <input type="hidden" name="payable_amount_without_tax" value="0.25">
               <input type="hidden" name="payable_amount_with_tax" value="0">
               <input type="hidden" name="mname" id ="mname" value="Cup for water">
                      <div class="payment-option-wrap">

                            <div class="payment-tab is-active" id="dharshan">
                                 <div class="payment-tab-toggle pt-3">
                                       <input checked id="balance" name="radio"  type="radio" value="user">
                                       
                                       <a href="javascript:void(0)" class="theme-btn" id="use_Account_use" >
                                          Use Flex
                                       </a>
                                       <img class="payment-logo" src="https://collegeofwooster.trufflestg.com/assets-website/images/digital-wallet.png" alt="">
                                 </div>
                                 <div class="payment-tab-content pt-1" id= "use_Account">
                                       <input type="hidden" name="balance" id="balance_amt" value="0.00">
                                       <div>
                                          <p class="my-2 pt-3">Taxable balance: <strong class="text-dark">0.00</strong></p>
                                          <p class="">Tax exempt balance: <strong class="text-dark">111.5</strong></p>
                                       </div>
                                 </div>
                                
                            </div><!-- end payment-tab -->
                            
                            <div class="payment-tab is-active" id="dharshan">
                              
                             <div class="payment-tab-toggle pt-3">
                                 <input checked id="balance" name="radio"  type="radio" value="user">
                                 
                                 <a href="javascript:void(0)" class="theme-btn"  id="use_plan_use" >
                                    Use Swipe
                                 </a>
                                   <img class="payment-logo" src="https://collegeofwooster.trufflestg.com/assets-website/images/digital-wallet.png" alt="">
                             </div>
                             <div class="payment-tab-content  pt-1" id= "use_plan">
                                 <input type="hidden" name="balance" id="balance_amt" value="0.00">
                                  <p class="mt-2 pt-3">Total Plan Unit: <strong class="text-dark">240</strong></p>  
                                 <p class="mt-2 pt-3">Total Unit Remaining is: <strong class="text-dark">227</strong></p>                                    
                             </div>
                           </div>


                         <!--      <div class="payment-tab">
                                <div class="payment-tab-toggle">
                                    <input  id="student" name="radio"  type="radio" value="student">
                                    <label for="student">Pay with a credit card</label>
                                       <img class="payment-logo" src="https://collegeofwooster.trufflestg.com/assets-website/images/payment-img.png" alt="">
                                </div>

                            </div> -->

                            <!-- end payment-tab -->

                        </div><!-- end payment-option-wrap -->


                                     <input  name="usertype_new" id="usertype_new" type="hidden" value="Y">

                                 <div id="pay_with_balance" style="display:none;">
                    <!--<a href="javascript:void(0)" data-toggle="modal" id="paymentpopupbalance" class="theme-btn">Proceed<i class="la la-arrow-right ml-2"></i></a>-->
                  </div>
                  <div id="pay_with_card" style="display:none;">
                   <!-- <a href="javascript:void(0)" data-toggle="modal" id="paymentpopupv" class="theme-btn">Proceed<i class="la la-arrow-right ml-2"></i></a>-->
                  </div>
               
                              </div>               </div><!-- end block-card-body -->
               </form>
            </div>
            <!-- end block-card -->
         </div>
         <!-- end col-lg-8 -->

<!-- Student campus card start -->
<div id="campusCard" class="modal fade pr-0">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content"> 
         <form class="w-100" method="post" id="itc_form" name="itc_form" enctype="multipart/form-data">
            <input type="hidden" name="_token" value="0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR">            <input type="hidden" name="_method" value="post"> 
         <div class="modal-header">
          <h5 class="modal-title">ITC Card </h5>
          <button type="button" class="close close_btn" data-dismiss="modal">&times;</button>
         </div>
         <div class="modal-body">
         <input id="submittype" type="hidden" name="submit_type" value=""></input>

            <div class="form-box">
               <!-- <input type="hidden" name="branch_id" id="branch_id_add"> -->
               <!-- <input type="hidden" name="restaurant_id" value=""> -->
               <input type="hidden" name="plan_exempt_amountperunit" id="plan_exempt_amountperunit" value="8">
               <input type="hidden" name="totalamount" id="totalAmount" value="0.25">
               <input type="hidden" name="payable_amount_without_tax" value="0.25">
               <input type="hidden" name="payable_amount_with_tax" value="0">
               <input type="hidden" name="mname" value="Cup for water">
               
                 
               <div class="row">
                  <div class="col-md-12 form-group">
                     
               <div class="user-thumb user-thumb-xl flex-shrink-0">
                     <img src="https://collegeofwooster.trufflestg.com/media/userimage//default_image.png" alt=""  class="img-fluid" />
                
               </div>
                  </div>
               </div>
                              <div class="row">
                  <div class="col-md-6 form-group col-6 ">
                     <label class="">ID No<span class='text-danger'>*</span></label>
                                                               <input type="number" class="form-control form-control-styled pl-2" name="id_no" placeholder="ID No" id="id_no" min="1" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength = "4" value="3272">
                                          <span class='itc_error kt-form__help id_no'></span>
                  </div>  
                   <div class="col-md-6 form-group col-6 ">
                     <label class="">Student Name<span class='text-danger'>*</span></label>
                                                               <input type="text" class="form-control form-control-styled pl-2 number" name="student_name" placeholder="Student Name" id="student_name" maxlength="10" value="Oreofe Solarin">
                                          <span class='itc_error kt-form__help student_name'></span>
                  </div> 
               </div>
                 
               <div class="row"> 
                                <div class="col-md-4 form-group col-4 ">
                 <label class="">Tax Exempt<span class='text-danger'>*</span></label>
                  <input type="text" class="form-control form-control-styled pl-2 number" name="tax_exempt" placeholder="Tax Exempt" id="tax_exempt" maxlength="10">
                  <span class='itc_error kt-form__help tax_exempt'></span>
               </div>
               <div class="col-md-4 form-group col-4 ">
                  <label class="">Tax Exempt Balance<span class='text-danger'>*</span></label>
                  <input type="text" class="form-control form-control-styled pl-2 number" name="tax_exempt_balance" placeholder="Tax Exempt Balance" id="tax_exempt_balance" maxlength="10">
                  <span class='itc_error kt-form__help tax_exempt_balance'></span>
               </div> 
               <div class="col-md-4 form-group col-4 ">
                  <label class="">Credit Limit<span class='text-danger'>*</span></label>
                  <input type="text" class="form-control form-control-styled pl-2 number" name="credit_limit" placeholder="Credit Limit" id="credit_limit" maxlength="10">
                  <span class='itc_error kt-form__help credit_limit'></span>
               </div>
                              </div>
               <div class="row">
                                    <div class="col-md-4 form-group col-4 ">
                     <label class="">Tax Exempt<span class='text-danger'>*</span></label>
                     <input type="text" class="form-control form-control-styled pl-2 number" name="tax_exempt" placeholder="Tax Exempt" id="tax_exempt" maxlength="10"  value="TAX_EXEMPT">
                     <span class='itc_error kt-form__help tax_exempt'></span>
                  </div>
                  <div class="col-md-4 form-group col-4 ">
                     <label class="">Tax Exempt Balance<span class='text-danger'>*</span></label>
                     <input type="text" class="form-control form-control-styled pl-2 number" name="tax_exempt_balance" placeholder="Tax Exempt Balance" id="tax_exempt_balance" maxlength="10" value="111.5">
                     <span class='itc_error kt-form__help tax_exempt_balance'></span>
                  </div> 
                  <div class="col-md-4 form-group col-4">
                     <label class="">Credit Limit<span class='text-danger'>*</span></label>
                     <input type="text" class="form-control form-control-styled pl-2 number" name="credit_limit" placeholder="Credit Limit" id="credit_limit" maxlength="10" value="0">
                     <span class='itc_error kt-form__help credit_limit'></span>
                  </div> 
                                 </div>

               <div class="row">
                                 <div class="col-md-4 form-group col-4 ">
                     <label class="">Plan<span class='text-danger'>*</span></label>
                     <input type="text" class="form-control form-control-styled pl-2 number" name="plan_exempt_name" placeholder="Plan" id="plan_exempt_name" maxlength="10"  value="240 Meal Plan B and $300 Flex">
                     <span class='itc_error kt-form__help plan_exempt_name'></span>
                  </div>
                  <div class="col-md-4 form-group col-4 ">
                     <label class="">Plan Balance<span class='text-danger'>*</span></label>
                     <input type="text" class="form-control form-control-styled pl-2 number" name="plan_exempt_balance" placeholder="Plan Balance" id="plan_exempt_balance" maxlength="10" value="0">
                     <span class='itc_error kt-form__help plan_exempt_balance'></span>
                  </div> 
                  <div class="col-md-4 form-group col-4">
                     <label class="">Credit Limit<span class='text-danger'>*</span></label>
                     <input type="text" class="form-control form-control-styled pl-2 number" name="plan_exempt_creditLimit" placeholder="Credit Limit" id="plan_exempt_creditLimit" maxlength="10" value="0">
                     <span class='itc_error kt-form__help plan_exempt_creditLimit'></span>
                  </div> 
                  <div class="col-md-4 form-group col-4 ">
                     <label class="">Type<span class='text-danger'>*</span></label>
                     <input type="text" class="form-control form-control-styled pl-2 number" name="plan_exempt_type" placeholder="Type" id="plan_exempt_type" maxlength="10" value="PLAN_TAX_EXEMPT">
                     <span class='itc_error kt-form__help plan_exempt_type'></span>
                  </div>
                  <div class="col-md-4 form-group col-4 ">
                     <label class="">Total Units Remaining<span class='text-danger'>*</span></label>
                     <input type="text" class="form-control form-control-styled pl-2 number" name="plan_exempt_totalunit" placeholder="Total Units Remaining" id="plan_exempt_totalunit" maxlength="10" value="240">
                     <span class='itc_error kt-form__help plan_exempt_totalunit'></span>
                  </div> 
                  <div class="col-md-4 form-group col-4">
                     <label class="">Amount Per Units<span class='text-danger'>*</span></label>
                     <input type="text" class="form-control form-control-styled pl-2 number" name="plan_exempt_amountperunit" placeholder="Amount Per Units" id="plan_exempt_amountperunit" maxlength="10" value="8">
                     <span class='itc_error kt-form__help plan_exempt_amountperunit'></span>
                  </div>
                                 </div>
            </div>
         </div>
         <div class="modal-footer">
             <!-- <input type="submit" class="theme-btn mr-3" name="action" value="Use Account"/>
             <input type="submit" class="theme-btn mr-3" name="action" value="Use Plan"/> -->
             <button class="theme-btn mr-3" onclick="saveandexit()" type="submit">Use Plan</button>
             <button class="theme-btn mr-3" onclick="save()" type="submit">Use Account</button>
             <!-- <button type="button" class="theme-btn" data-dismiss="modal">Close</button> -->
         </div>
         </form>
     </div>
   </div>
 </div>

 <!-- Student campus card end -->

         <div class="col-lg-4 cart-sidebar">

            <!-- end card-item -->
            <div class="block-card">
               <div class="block-card-header">
                   <div class="bill-details">
               <span>Bill Details</span><span style="float:right;">01/30/2023</span>
            </div><hr>
                  <h3 class="widget-title" style="padding-bottom: 0px;">Item</h3>
                  <div class="stroke-shape"></div>
               </div>
               <!-- block-card-header -->
               <div class="block-card-body cart-modifier-box">
               <div class="cart-modifier-scroll">
                                                                                         
                                                                                                                              <!--   -->
                  
                                                                        
                                                                                                                                                <div class="cart-modifier" style="border: none;">
                     <div class="cart-modifier-title">
                                                <img height="70" width="70" src="https://collegeofwooster.trufflestg.com/media/menu_image//448052744.jpg">
                        <!--                         <img src="https://collegeofwooster.trufflestg.com/media/ic_non_veg.png" data-src="" class="card__img lazy" style="position: relative;bottom: -52px;right: 17px;height: 14px;width: 14px;" alt="Non-veg">
                         -->
                                                <div class="cart-modifier-name flex-column">
                           <div class="d-flex mb-2">
                              <!-- url('sig/edit/ ' . $value->id . '/' . $value->ticketid .') -->
                                                                                          <h6>Cup for water</h6>
                                                            <!-- <h6>Cup for water (Each)</h6> -->
                           </div>
                           <div class="cart-modifier-qty">
                              <input type="hidden" name="item_price"
                                 id="serving_41991"
                                 value="0.25">
                              <input type="hidden" name="item_price" id="item_tot_4199"
                                 value="0.25">
                              <a class="btn btn-xs btn-light-success btn-icon btn-comman mr-2" id="25622" data-id="-1" onclick="changeQty(this)">
                              <i class="la la-minus icon-xs"></i></a>
                              <span class="mr-2 font-weight-bolder" id="qtyvalue_25622">1</span>
                              <a  onclick="changeQty(this)" data-id="1" class="btn btn-xs btn-light-success btn-icon btn-comman" id="25622">
                              <i class="la la-plus icon-xs"></i></a> 
                               <a href="javascript:void(0);" data-toggle="modal" onclick="passIdForNote('25622','')" class="btn add-notbtn">Add Note</a>
                           </div>
                        </div>
                        <div>
                           <div class="cart-modifier-price">
                              <span class="color-orange dollar"
                                 id="item_totalid_41991">
                                                            $0.25</span>
                           </div>
                           <div class="mt-2 d-flex justify-content-end">
                              <a href="javascript:void(0);" id="delete_item"
                                 onclick="removeItem('25622')"><i
                                 class="la la-trash-alt icon-xs dlt"></i></a>
                           </div>
                        </div>
                     </div>
                     <div class="cart-modifier-body">
                                                                                                <div class=" mb-3">
                           <small>
                                                      </small>
                        </div>
                        <div class="cart-modifier-footer">
                          
                        </div>
                     </div>
                  </div>
                  
                                                                        
               </div>
                  <!-- <div class="section-block-2 my-3"></div>
                     <div class="d-flex food-DeluxeVeggie mt-3">
                         <img src="assets\images\Deluxe Veggie.png">
                         <div class="d-flex justify-content-between">
                         <div class="flex-column">
                             <span class="ml-3 color-food">Deluxe Veggie</span>
                             <div class="mt-2 ml-3">
                                 <button class="btn btn-xs btn-light-success btn-icon btn-comman mr-2">
                                 <i class="la la-minus icon-xs"></i> </button>
                                 <span class="mr-2 font-weight-bolder">2</span>
                                 <button class="btn btn-xs btn-light-success btn-icon btn-comman">
                                <i class="la la-plus icon-xs"></i></button>
                             </div>
                             <div class="mt-2 ml-3">
                                 <i class="la la-star icon-xs star"></i>
                                 <i class="la la-star icon-xs star"></i>
                                 <i class="la la-star icon-xs star"></i>
                                 <i class="la la-star icon-xs star"></i>
                                 <i class="la la-star icon-xs"></i>
                                 <span class="ml-2">1348 reviews</span>
                             </div>

                         </div>
                         <div>
                             <div><span class="color-orange dollar">$5.00</span></div>
                             <div class="mt-2"><a href=""><i class="la la-pen icon-xs pen"></i></a> <a href=""><i class="la la-trash-alt icon-xs dlt"></i></a></div>
                         </div>
                         </div>
                     </div>
                     <div class="section-block-2 my-3"></div>
                     <div class="d-flex food-DeluxeVeggie mt-3">
                         <img src="assets\images\Mexican Green Wave.png">
                         <div class="d-flex justify-content-between">
                         <div class="flex-column">
                             <span class="ml-3 color-food">Mexican Green Wave</span>
                             <div class="mt-2 ml-3">
                                 <button class="btn btn-xs btn-light-success btn-icon btn-comman mr-2">
                                 <i class="la la-minus icon-xs"></i> </button>
                                 <span class="mr-2 font-weight-bolder">2</span>
                                 <button class="btn btn-xs btn-light-success btn-icon btn-comman">
                                <i class="la la-plus icon-xs"></i></button>
                             </div>
                             <div class="mt-2 ml-3">
                                 <i class="la la-star icon-xs star"></i>
                                 <i class="la la-star icon-xs star"></i>
                                 <i class="la la-star icon-xs star"></i>
                                 <i class="la la-star icon-xs star"></i>
                                 <i class="la la-star icon-xs"></i>
                                 <span class="ml-2">1348 reviews</span>
                             </div>

                         </div>
                         <div>
                             <div><span class="color-orange dollar">$5.00</span></div>
                             <div class="mt-2"><a href=""><i class="la la-pen icon-xs pen"></i></a> <a href=""><i class="la la-trash-alt icon-xs dlt"></i></a></div>
                         </div>
                         </div>
                     </div> -->
                  <div class="section-block-2 my-3"></div>
                                    
                  <div class="d-flex row no-gutters add-btn-sec">
                     <div class="col-4 pr-2">
                        <a href="https://collegeofwooster.trufflestg.com/category" class="theme-btn gradient-btn w-100">Add More Items</a>
                     </div>
                                          <div class="col-4 pl-1 pr-1">
                        <a href="javascript:void(0);" data-toggle="modal"  onclick="get_promocode_data()" data-target="#viewpromocodemodal"
                           class="theme-btn gradient-btn w-100">Apply Promo Code</a>
                     </div>
                                                            </div>
                                    <!-- <div class="coupon-widget">
                     <form method="post" class="form-box">
                         <div class="input-box">
                             <label class="label-text">Do you have coupon code?</label>
                             <div class="form-group mb-0">
                                 <input class="form-control pl-3" type="text" name="name" placeholder="Enter code">
                                 <button class="theme-btn shadow-none" type="submit">Apply</button>
                             </div>
                         </div>
                     </form>
                     </div> -->
                                    <div class="d-flex mt-5 checkbox-tip color-Night_Rider">
                     <!-- <div class="submit-wrap pt-4"> --> 
                      
                                          <!-- end custom-checkbox -->
                     <!-- end btn-box -->
                     <!-- </div> -->
                                                                                 </div>
                                    <div class="section-block-2 my-3"></div>
                                    <div class="booking-summary mt-2">
                     <ul class="list-items list--items">

                                                <li class=" d-flex justify-content-between"><span class="text-color">Sub
                           Total:</span><span id="Itme_Total" class="text-right">
                           $0.25</span>
                        </li>
                                                                                                <li class=" d-flex justify-content-between"><span
                           class="text-color">Date:</span><span id="cart_date"></span></li>
                        <li class=" d-flex justify-content-between"><span class="text-color">Hour:</span>
                           <span id="cart_time">23:37</span>
                        </li>
                                                <li class=" d-flex justify-content-between"><span class="text-color Delivery_chargeId">Delivery Charge:</span>
                           <span id="delivery_charge" class="Delivery_chargeId"></span>
                        </li>
                                                <li class=" d-flex justify-content-between" id="TipId" style="display: none !important;"><span
                           class="text-color" id="Tiplabel" style="display: none;">Tip:</span><span class="" id="TipAmount" style="display: none;" class="text-right"></span></li>
                        
                        <li class=" d-flex justify-content-between" id="PromoCodeId" style="display: none !important;">
                           <span class="text-color" id="Promolabel" style="display: none;">Promo
                           Code:</span><span class="" id="PromocodeAmount" class="text-right"></span>
                        </li>
                        <li class=" d-flex justify-content-between" id="GiftcardId" style="display: none !important;"><span
                           class="text-color" id="Giftcardlabel" style="display: none;">Gift
                           Card:</span><span class="" id="GiftCardAmount" class="text-right"></span>
                        </li>
                        <li class=" d-flex justify-content-between" id="LoyaltyId" style="display: none;"><span
                           class="text-color" id="Loyaltylabel" style="display: none !important;">Loyalty:</span><span
                           class="" id="LoyaltyAmount" class="text-right"></span></li>
                     </ul>
                                          <input type="hidden" name="total_amt" value="0.25" id="total_amt">
                     <div class="section-block-2 my-3"></div>

                     <input type="hidden" name="itcflag" value="" id="itcflag">
                                                                                                 
                     
                     </h3>
                      
                    
       
                     <h3
                        class="widget-title d-flex align-items-center justify-content-between font-size-16 pb-0">
                        Total Due: 
                                                
                                                 <span class="text-color-2 font-weight-semi-bold tot_amount">$0.25</span>
                                                 

                                                                                                            <input type="hidden" name="final_amount" id="final_amount" value="0.25">
                           <input type="hidden" name="balancenew" id="balancenew" value="0.00">
                           <input type="hidden" name="studentflag" id="studentflag" value="Y">
                                                </h3>
                 
                     <div class="section-block-2 my-3"></div>
                  </div>
                  <!-- end booking-summary -->
                                 </div>
               <!-- end block-card-body -->
            </div>
            <!-- end block-card -->
         </div>
         <!-- end col-lg-4 -->
      </div>
      <!-- end row -->
   </div>
   <!-- end container -->
</section>
<!-- Promocode modal-->
<div class="modal fade" id="viewpromocodemodal">
   <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
         <!-- Modal Header -->
         <div class="modal-header">
            <h4 class="modal-title">Promo Code List</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
         </div>
         <!-- Modal body -->
         <div class="modal-body">
            <div class="card">
               <div class="card-body" style="max-height:460px;overflow:auto" id="showPormos">
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
<!-- Giftcard modal -->
<div class="modal fade" id="viewgiftcardmodal">
   <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
         <!-- Modal Header -->
         <div class="modal-header">
            <h4 class="modal-title">Gift Card List</h4>
            <button type="button" class="close close_btn" data-dismiss="modal">&times;</button>
         </div>
         <!-- Modal body -->
         <div class="modal-body">
            <div class="card">
               <div class="card-body" style="max-height:300px;overflow:auto" id="gifcardShow">
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
<!-- Apply gift card modal -->
<div class="modal fade" id="applygiftcardmodal">
   <div class="modal-dialog" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Gift Card</h5>
            <button type="button" class="close close_btn" data-dismiss="modal">&times;</button>
         </div>
         <form class="w-100" method="post" id="giftcardform">
            <input type="hidden" name="_token" value="0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR">            <div class="modal-body">
               <div class='form-group row'>
                  <div class="col-md-12">
                     <p>Current Balance : <span id="current_balance"></span></p>
                     <label class="">Enter Custom Amount<span class="text-danger"></span></label>
                     <input type='hidden' name='giftcard_balance' id='giftcard_balance' value='' />
                     <input type='hidden' name='giftcard_id' id='giftcard_id' value='' />
                     <div class="form-box">
                     <div class="form-group">
                              <span class="la la-dollar form-icon"></span>
                             
                              
                                <input type='text' class='form-control form-control-styled' maxlength="5" autocomplete="off" name='giftcard_amount' placeholder='Enter Amount' id='giftcard_amount' /> 
                              <span class="d-flex mt-2" id="error_msg"></span>
                     <span class="category kt-form__help error type_name d-flex mt-2"></span>
                           </div> </div>
                    
                  </div>
               </div>
            </div>
            <div class="modal-footer">
               <a href="javascript:void(0);" onclick="applyentireamount()" class="theme-btn">Use Entire
               Amount</a>
               <input type="submit" class="theme-btn" id="apply" value="Apply" />
            </div>
         </form>
      </div>
   </div>
</div>
<!-- Add Note modal -->
<div class="modal fade" id="addnotemodal">
   <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Add Note</h5>
            <button type="button" class="close close_btn" data-dismiss="modal">&times;</button>
         </div>
         <form class="w-100" method="post" id="addnoteform">
            <input type="hidden" name="_token" value="0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR">            <div class="modal-body">
               <div class='form-group row'>
                  <div class="col-md-12">
                     <textarea class="form-control" id="typenotes" name="typenotes" rows="10" cols="10" maxlength="300" style="resize: none;">
                     </textarea>
                     <span id="note_msg" style="color:red;"></span>
                  </div>
               </div>
               <input type='hidden' name='get_cart_id' id='get_cart_id' value='' />
            </div>
            <div class="modal-footer">
               <a href="javascript:void(0);" onclick="addNotes()" class="theme-btn">Add</a>
            </div>
         </form>
      </div>
   </div>
</div>
<div class="modal fade" id="addtipmodal">
   <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Give Tip</h5>
            <button type="button" class="close close_btn" data-dismiss="modal">&times;</button>
         </div>
         <form class="w-100" method="post" id="addtipform">
            <input type="hidden" name="_token" value="0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR">            <div class="modal-body">
               <div class='form-group row'>
                  <div class="col-md-12 d-flex">
                     <div class="mr-2">
                     <input class="mr-1" type='radio' onchange="checkRadioAmount();" checked class='' id="AmtradioButton"
                        name='giftcard_amount' placeholder='Enter Amount'  /> By
                     Amount($)</div>
                     <div class="">
                     <input class="mr-1" type='radio' class='' name='giftcard_amount' onchange="checkRadioPercentage();"
                        placeholder='Enter Amount' id="PerradioButton" />By Percentage(%) </div>
                  </div>
               </div>
               <div class='form-group row' id="TipAmt" style="display: block;">
                  <div class="col-md-12 form-box"> 
                     <div class="form-group">
                              <span class="la la-dollar form-icon"></span>
                             
                               <input  min="0" maxlength="5" class='form-control form-control-styled' autocomplete="off" name='tip_amount' type="number" pattern="[0-9]{1}"  inputmode="numeric" placeholder='Enter Amount ($)' id='tip_amount' />
                             
                           </div>
                    
                  </div>
               </div>
               <div class='form-group row' id="TipPercentage" style="display: none;">
                  <div class="col-md-12 form-box"> 
                      <div class="form-group">
                              <span class="la la-percent form-icon"></span>
                               <input type='number' min="0" class='form-control form-control-styled' autocomplete="off" name='tip_percentage' onkeypress="return onlyNumberKey(event)"
                                  placeholder='Enter Percentage (%)' id='tip_percentage'  type="number" pattern="[0-9]{1}"  inputmode="numeric" />
                             
                             
                           </div>
                    
                  </div>
               </div>
            </div>
            <div class="modal-footer">
               <!-- <a href="javascript:void(0);" onclick ="applyentireamount()" class="btn btn-primary">Use Entire Amount</a> -->
               <input type="submit" class="theme-btn" id="givetip" value="Give Tip" />
            </div>
         </form>
      </div>
   </div>
</div>
<div class="modal fade" id="loyaltypointmodal">
   <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLongTitle">Loyalty Points</h5>
            <button type="button" class="close close_btn" data-dismiss="modal">&times;</button>
         </div>
         <form class="w-100" method="post" id="loyaltypointform">
            <input type="hidden" name="_token" value="0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR">            <div class="modal-body">
               <div class='form-group row'>
                  <div class="col-md-12">
                     <p style="padding-bottom: 10px;">Total Redeemable points :
                        <span id="showLoyaltyData">
                        </span>
                     </p>  
                     <div class="form-box">
                     <div class="form-group">
                              <span class="la la-dollar-sign form-icon"></span>
                             
                               <input type='hidden' name='redeem_balance' id='redeem_balance' value="" /> 
                              <input type="text"  min="0" class='form-control form-control-styled' name='redeem_amount' autocomplete="off" maxlength="5" placeholder='Enter Amount To Redeem' id='redeem_amount' />
                              <span class="d-flex mt-2" id="error_message"></span>
                           </div> </div>
                    
                     
                  </div>
               </div>
            </div>
            <div class="modal-footer">
               <input type="submit" class="theme-btn" id="apply" value="Redeem Points" />
            </div>
         </form>
      </div>
   </div>
</div>
<div class="modal fade" id="conformation-modal">
   <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <h6>Are you sure you want to delete this item?</h6>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
            <button type="button" class="btn btn-primary" id="yes">Yes</button>
         </div>
      </div>
   </div>
</div>
<div class="modal fade" id="modifier-delete-modal">
   <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <h6>Are you sure you want to delete this modifier?</h6>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
            <button type="button" class="btn btn-primary" id="yesdelete">Yes</button>
         </div>
      </div>
   </div>
</div>
<div class="modal fade" id="placeorder-modal">
   <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
         </div>
         <div class="modal-body">
            <h6 class="color-red">Please First Login After Add To Cart..!</h6>
         </div>
         <div class="modal-footer">
            <button type="button" class="btn btn-primary" id="login">Login</button>
         </div>
      </div>
   </div>
</div>
<div class="modal fade" id="viewaddressmodal">
   <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
         <!-- Modal Header -->
         <div class="modal-header">
            <h4 class="modal-title">Address</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
         </div>
         <!-- Modal body -->
         <div class="modal-body">
            <div class="card">
               <div class="card-body" style="max-height:460px;overflow:auto">
                                 </div>
            </div>
         </div>
      </div>
   </div>
</div>


<!-- Create an account popoup -->
 <div class="modal fade" id="create-an-accountpopup">
    <div class="modal-dialog modal-dialog-centered" role="document">
       <form class="w-100" method="post" id="guestuserform">
         <input type="hidden" name="_token" value="0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR">        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Create an account</h5>
                <button type="button" class="close close_btn" data-dismiss="modal">&times;</button>
            </div>
           

            <div class="modal-body form-box ">
              

               <!-- end::only order -->
               <!-- start::only order -->

               <div id="showGuestDetails">
                  <div class="form-group row">
                     <div class="col-md-6">
                        <div class="input-box">
                           <label class="label-text">First Name</label>
                           <div class="form-group">
                              <span class="la la-user form-icon"></span>
                              <input class="form-control form-control-styled " type="text" name="guest_fname" id="guest_fname" value=""
                              placeholder="Enter First Name" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16">
                           </div>
                           <span class="kt-form__help error guest_fname"></span>
                        </div>
                     </div>
                     <div class="col-md-6">
                        <div class="input-box">
                        <label class="label-text">Last Name</label>
                           <div class="form-group">
                              <span class="la la-user form-icon"></span>
                              <input class="form-control form-control-styled " type="text" name="guest_lname" id="guest_lname"
                              placeholder="Enter Last Name" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16">
                           </div>
                          <span class="kt-form__help error guest_lname"></span>
                        </div>
                     </div>

                    <div class="col-md-6">
                        <div class="input-box">
                        <label class="label-text">Email</label>
                           <div class="form-group">
                              <span class="la la-envelope form-icon"></span>
                              <input class="form-control form-control-styled " type="text" name="guest_email" id="guest_email"
                              placeholder="Enter Phone Email" >
                           </div>
                           <span class="kt-form__help error guest_email"></span>
                        </div>
                     </div>
                    <div class="col-md-6">
                        <div class="input-box">
                        <label class="label-text">Phone Number</label>
                           <div class="form-group">
                              <span class="la la-phone form-icon"></span>
                              <input class="form-control form-control-styled " type="number" name="guest_phone_number" id="guest_phone_number"
                              placeholder="Enter Phone Number" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16" onkeypress='return event.charCode >= 48 && event.charCode <= 57' >
                           </div>
                           <span class="kt-form__help error guest_phone_number"></span>
                        </div>
                     </div>
                  </div>
               </div>
               <div id="showGuestReg">
                  <div class="form-group row">
                     <div class="col-md-12">
                        <div class="input-box">
                        <label class="label-text">Password</label>
                           <div class="form-group">
                              <span class="la la-lock form-icon"></span>
                             <input id="password" type="password" class="form-control form-control-styled " placeholder="Enter Password" autocomplete="signup-pass" name="password" autocomplete="current-password" data-toggle="password" maxlength="30">
                              <div class="input-icon">
                                  <i toggle="#password" class="confirm la la-eye-slash show-password  field-icon toggle-password"></i>
                              </div>
                           </div>
                             <span class="kt-form__help error password"></span>
                        </div>
                     </div>
                  </div>
                  <div class="form-group row">
                     <div class="col-md-12">
                        <div class="input-box">
                        <label class="label-text">Confirm Password</label>
                           <div class="form-group">
                              <span class="la la-lock form-icon"></span>
                             <input id="confirm_password" type="password" class="form-control form-control-styled " placeholder="Enter Confirm Password" autocomplete="signup-conf-pass" name="confirm_password" autocomplete="current-password" data-toggle="password" maxlength="30">
                              <div class="input-icon">
                                  <i toggle="#password" class="la la-eye-slash show-password  field-icon toggle-password-confirm" id="toggle-password12"></i>
                              </div>
                           </div>
                            <span class="kt-form__help error confirm_password"></span>
                        </div>
                     </div>
                  </div>
                  <div class="form-group row">
                     <div class="col-md-12">
                        <div class="input-box">
                           <div class="form-group">
                             <input type="checkbox" id="signup-remember" name="signup-remember"/> I Agree
                             <a href="https://collegeofwooster.trufflestg.com/cms/terms-and-condition" target="_blank"  class="color-orange">Terms & Conditions</a> &
                             <a href="https://collegeofwooster.trufflestg.com/cms/privacy-policy" target="_blank" class="color-orange">Privacy Policy
                             </a>
                           </div>
                             <span class="kt-form__help error signup-remember"></span>
                        </div>
                     </div>
                  </div>
               </div>
            </div>

            <div class="modal-footer">
               <input type="submit" class="theme-btn" id="guestFormSubmit" value="Submit" />
               <button type="button" class="theme-btn" data-dismiss="modal">Close</button>
            </div>
        </div>
     </form>
    </div>
</div>
<!-- end create an account popup -->

<!-- Create an account popoup -->
 <div class="modal fade" id="continue-as-guest">
    <div class="modal-dialog modal-dialog-centered" role="document">
       <form class="w-100" method="post" id="continueasguestform">
         <input type="hidden" name="_token" value="0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR">        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Continue as Guest</h5>
                <button type="button" class="close close_btn" data-dismiss="modal">&times;</button>
            </div>
            <div class='form-group row'></div>

            <div class="modal-body form-box ">
               <!-- start::create new account -->
               <div class='form-group row'>
                  <div class="col-md-6">
                     <div class="input-box">

                     </div>
                  </div>
               </div>
               <!-- end::create new account -->

               <!-- end::only order -->
               <!-- start::only order -->

               <div id="showGuestDetails">
                  <div class="form-group row">
                     <div class="col-md-6">
                        <div class="input-box">
                           <label class="label-text">First Name</label>
                           <div class="form-group">
                              <span class="la la-user form-icon"></span>
                              <input class="form-control form-control-styled " required type="text" name="guest_fname" id="guest_fname" value=""
                              placeholder="Enter First Name" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16">
                           </div>
                            <span class="kt-form__help error guest_fname"></span>
                        </div>
                     </div>
                     <div class="col-md-6">
                        <div class="input-box">
                        <label class="label-text">Last Name</label>
                           <div class="form-group">
                              <span class="la la-user form-icon"></span>
                              <input class="form-control form-control-styled " required type="text" name="guest_lname" id="guest_lname"
                              placeholder="Enter Last Name" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16">
                           </div>
                           <span class="kt-form__help error guest_lname"></span>
                        </div>
                     </div>

                    <div class="col-md-6">
                        <div class="input-box">
                        <label class="label-text">Email</label>
                           <div class="form-group">
                              <span class="la la-envelope form-icon"></span>
                              <input class="form-control form-control-styled " type="text" name="guest_email" id="guest_email"
                              placeholder="Enter Phone Email" >
                           </div>
                           <span class="kt-form__help error guest_email"></span>
                        </div>
                     </div>
                    <div class="col-md-6">
                        <div class="input-box">
                        <label class="label-text">Phone Number</label>
                           <div class="form-group">
                              <span class="la la-phone form-icon"></span>
                              <input class="form-control form-control-styled " required type="number" name="guest_phone_number" id="guest_phone_number"
                              placeholder="Enter Phone Number" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" maxlength="16" onkeypress='return event.charCode >= 48 && event.charCode <= 57' >
                           </div>
                           <span class="kt-form__help error guest_phone_number"></span>
                        </div>
                     </div>
                     <div class="col-md-6" id="hide_address">
                        <div class="input-box">
                        <label class="label-text">Address</label>
                           <div class="form-group">
                              <span class="la la-map-marker-alt form-icon"></span>
                              <input class="form-control form-control-styled " required type="text" name="guest_address" id="guest_address"
                              placeholder="Enter Address" >
                           </div>
                           <span class="kt-form__help error guest_address"></span>
                        </div>
                     </div>
                  </div>
               </div>

            </div>

            <div class="modal-footer">
               <input type="submit" class="theme-btn" id="guestFormSubmits" value="Submit" />
               <button type="button" class="theme-btn" data-dismiss="modal">Close</button>
            </div>
        </div>
     </form>
    </div>
</div>
<!-- end continue as guest popup -->

<script src="https://api.demo.convergepay.com/hosted-payments/Checkout.js"></script>
    
</main>
<!-- end main-content -->        <section class="footer-area bg-gradient-gray padding-top-30px padding-bottom-30px position-relative">
    <div class="container">
        <div class="row">
            <div class="col-lg-5 responsive-column mb-2">
                <div class="footer-item">
                    <div class="footer-logo">
                        <a href="https://collegeofwooster.trufflestg.com/home" class="foot-logo"><img src="https://collegeofwooster.trufflestg.com/media/web_template/restaurant_logo/1648891499.png" alt="logo"></a>
                    </div><!-- end footer-logo -->
                    <div class="foot-links"> 
                        <ul class="list-items">
                            <li><a href="https://collegeofwooster.trufflestg.com/home">Home</a></li>
                            <li><a href="https://collegeofwooster.trufflestg.com/cms/about-us">About Us</a></li>
                            <li><a href="https://collegeofwooster.trufflestg.com/cms/help-and-support">Help And Support</a></li>
                            <!-- <li><a href="#">Pages</a></li> -->
                            <li><a href="https://collegeofwooster.trufflestg.com/category">Top Categories</a></li>
                        </ul>
                    </div>
                </div><!-- end footer-item -->
            </div><!-- end col-lg-3 -->

                        <!-- end col-lg-3 --> 

            <div class="col-lg-2 responsive-column mt-5 mt-xl-0 mt-md-0 mt-lg-0">
                <h4 class="font-size-17 pb-4">Follow us on</h4>
                <ul class="social-profile social-profile-styled d-flex">
                                         <li class="mr-2"><a href="javascript:void(0);" class="facebook-bg" data-toggle="tooltip" data-placement="top" title="" data-original-title="Facebook"><i class="lab la-facebook-f"></i></a></li>
                                                            <li class="mr-2"><a href="javascript:void(0);" class="twitter-bg" data-toggle="tooltip" data-placement="top" title="" data-original-title="Twitter"><i class="lab la-twitter"></i></a></li>
                                                            <li><a href="javascript:void(0);" class="instagram-bg" data-toggle="tooltip" data-placement="top" title="" data-original-title="Instagram"><i class="lab la-instagram"></i></a></li>
                                       <!--  <li><a href="javascript:void(0)" class="" data-toggle="tooltip" data-placement="top" title="" data-original-title="Dribble"><i class="la la-dribbble"></i></a></li> -->
                </ul>
            </div><!-- end col-lg-3 -->

        </div><!-- end row -->

        <div class="section-block-2 my-4"></div>
        <div class="row">
            <div class="col-lg-12">
                <div class="copy-right d-flex align-items-center justify-content-between footer-color">
                    <p class="copy__desc">
                    &copy; Copyright Truffle Systems <script> document.write(new Date().getFullYear()); </script> , All rights reserved Powered by trufflesystems.io
                    </p>
                    <ul class="list-items term-list text-right"> 
                        <li class="font-size-14"><a href="https://collegeofwooster.trufflestg.com/cms/privacy-policy">Privacy Policy</a></li>
                        <li class="font-size-14"><a href="https://collegeofwooster.trufflestg.com/cms/terms-and-condition">Terms & Conditions</a></li>
                    </ul>
                </div><!-- end copy-right -->
            </div><!-- end col-lg-12 -->
        </div><!-- end row -->
    </div><!-- end container -->
</section><!-- end footer-area -->
        
        <!-- start back-to-top -->


<div id="back-to-top">
    <i class="la la-arrow-up" title="Go top"></i>
</div> 



<!-- cart side bar start here -->

<div class="sidebar-box" onclick="openNav()">
  <div class="sidebar-top">
    <span class="sidebar-icon"> 

      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 122.9 107.5" style="width: 1em;height: 1em;" xml:space="preserve"><g><path d="M3.9,7.9C1.8,7.9,0,6.1,0,3.9C0,1.8,1.8,0,3.9,0h10.2c0.1,0,0.3,0,0.4,0c3.6,0.1,6.8,0.8,9.5,2.5c3,1.9,5.2,4.8,6.4,9.1 c0,0.1,0,0.2,0.1,0.3l1,4H119c2.2,0,3.9,1.8,3.9,3.9c0,0.4-0.1,0.8-0.2,1.2l-10.2,41.1c-0.4,1.8-2,3-3.8,3v0H44.7 c1.4,5.2,2.8,8,4.7,9.3c2.3,1.5,6.3,1.6,13,1.5h0.1v0h45.2c2.2,0,3.9,1.8,3.9,3.9c0,2.2-1.8,3.9-3.9,3.9H62.5v0 c-8.3,0.1-13.4-0.1-17.5-2.8c-4.2-2.8-6.4-7.6-8.6-16.3l0,0L23,13.9c0-0.1,0-0.1-0.1-0.2c-0.6-2.2-1.6-3.7-3-4.5 c-1.4-0.9-3.3-1.3-5.5-1.3c-0.1,0-0.2,0-0.3,0H3.9L3.9,7.9z M96,88.3c5.3,0,9.6,4.3,9.6,9.6c0,5.3-4.3,9.6-9.6,9.6 c-5.3,0-9.6-4.3-9.6-9.6C86.4,92.6,90.7,88.3,96,88.3L96,88.3z M53.9,88.3c5.3,0,9.6,4.3,9.6,9.6c0,5.3-4.3,9.6-9.6,9.6 c-5.3,0-9.6-4.3-9.6-9.6C44.3,92.6,48.6,88.3,53.9,88.3L53.9,88.3z M33.7,23.7l8.9,33.5h63.1l8.3-33.5H33.7L33.7,23.7z"></path></g></svg>
    </span>
    <span class="sidebar-text" id="qty_incr">1 Items</span>
  </div>
  <div class="sidebar-bottom">
    <div class="flex flex-col items-center justify-center bg-emerald-700 p-2 text-white text-base font-serif font-medium rounded-bl-lg mx-auto">
            <span id="findSideTotal">$0.27</span>
          </div>
  </div>
</div> 


<div class="cart-nav" id="mySidenavCart">

<div class="cartnav-header">
    
 <h2><span class="text-xl mr-2 mb-1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M320 264l-89.6 112-38.4-44.88"></path><path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M80 176a16 16 0 00-16 16v216c0 30.24 25.76 56 56 56h272c30.24 0 56-24.51 56-54.75V192a16 16 0 00-16-16zm80 0v-32a96 96 0 0196-96h0a96 96 0 0196 96v32"></path></svg></span>Your Cart</h2>    

 <a href="javascript:void(0)" class="closebtn" onclick="closeNav()"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"></path></svg> Close</a>
</div> 

          <div class="cartnav-body">
        <div class="cartnav-mainbox">
                                                  <!--   -->
                             
                                         
           
                    
          <input type="hidden" id="modi_value" value="0">
          <input type="hidden" id="taxamount" value="0.01625">
          <input type="hidden" id="dcost" value="0">
          <input type="hidden" id="combu" value="0">
          
       
                    <div class="cart-modifier" style="border: none;">
             <div class="cart-modifier-title">
                                <img height="70" width="70" src="https://collegeofwooster.trufflestg.com/media/menu_image//448052744.jpg">
                <!--                 <img src="https://collegeofwooster.trufflestg.com/media/ic_non_veg.png" data-src="" class="card__img lazy" style="position: relative;bottom: -52px;right: 17px;height: 14px;width: 14px;" alt="Non-veg">
                 -->
                                <div class="cart-modifier-name flex-column">
                   <div class="d-flex mb-2">
                                                               <h6>Cup for water</h6>
                                         </div>
                   <div class="cart-modifier-qty">
                      <input type="hidden" name="item_price"
                         id="serving_41991"
                         value="0.25">
                      <input type="hidden" name="item_price" id="item_tot_4199"
                         value="0.25">

                      <a onclick="changeQty(this)" data-id="-1" class="btn btn-xs btn-light-success btn-icon btn-comman mr-2"   id="25622"  item-id="41991" value-id="0.25"  total-price = "0.26625" >
                      <i class="la la-minus icon-xs"></i></a>

                      <span class="mr-2 font-weight-bolder" id="qtyvalue_25622">1</span>

                      <a  onclick="changeQty(this)" data-id="1" class="btn btn-xs btn-light-success btn-icon btn-comman" id="25622" value-id="0.25" item-id="41991" total-price = "0.26625" single-item = "0.25">
                     <i class="la la-plus icon-xs"></i></a> 

                       <a href="javascript:void(0);" data-toggle="modal" onclick="passIdForNote('25622','')" class="btn add-notbtn">Add Note</a>
                   </div>
                </div>
                <div>
                   <div class="cart-modifier-price">
                      <span class="color-orange dollar"
                         id="item_totalid_41991">
                                            $0.25</span>
                   </div>
                   <div class="mt-2 d-flex justify-content-end">
                      <a href="javascript:void(0);" id="delete_item"
                         onclick="removeItem('25622')"><i
                         class="la la-trash-alt icon-xs dlt"></i></a>
                   </div>
                </div>
             </div>
             <div class="cart-modifier-body">
                                                                <div class=" mb-3">
                   <small>
                                      </small>
                </div>
                <div class="cart-modifier-footer">
                  
                </div>
             </div>
          </div>
         
                                                </div>    
      
      </div> 
    
        <div class="cartnav-footer">
           <a href="https://collegeofwooster.trufflestg.com/view-cart">
           <button class="">
            <span class="checkout-text">Proceed To Checkout</span>
            <span class="checkout-amount">
                              <span id="findSideTotald">$0.27</span>
                           </span>
         </button>
         </a>
        </div>
        
</div>
<!-- Add Note modal -->
<div class="modal fade" id="addnotemodal-footer">
  <div class="modal-dialog modal-dialog-centered" role="document">
     <div class="modal-content">
        <div class="modal-header">
           <h5 class="modal-title" id="exampleModalLongTitle">Add Note</h5>
           <button type="button" class="close close_btn" data-dismiss="modal">&times;</button>
        </div>
        <form class="w-100" method="post" id="addnoteform">
           <input type="hidden" name="_token" value="0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR">           <div class="modal-body">
              <div class='form-group row'>
                 <div class="col-md-12">
                    <textarea class="form-control" id="typenotes" name="typenotes" rows="10" cols="10" maxlength="300" style="resize: none;">
                    </textarea>
                    <span id="note_msg" style="color:red;"></span>
                 </div>
              </div>
              <input type='hidden' name='get_cart_id' id='get_cart_id' value='' />
           </div>
           <div class="modal-footer">
              <a href="javascript:void(0);" onclick="addNotes()" class="theme-btn">Add</a>
           </div>
        </form>
     </div>
  </div>
</div>
<div class="modal fade" id="conformation-modal-footer">
  <div class="modal-dialog modal-dialog-centered" role="document">
     <div class="modal-content">
        <div class="modal-header">
           <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true">&times;</span>
           </button>
        </div>
        <div class="modal-body">
           <h6>Are you sure you want to delete this item?</h6>
        </div>
        <div class="modal-footer">
           <button type="button" class="theme-btn" data-dismiss="modal">No</button>
           <button type="button" class="theme-btn" id="yes">Yes</button>
        </div>
     </div>
  </div>
</div>
<!-- cart side bar start here -->




<!-- end back-to-top -->




<!-- Template JS Files -->


<script src="https://collegeofwooster.trufflestg.com/assets-website/js/jquery-3.4.1.min.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/jquery-ui.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/popper.min.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/bootstrap.min.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/owl.carousel.min.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/jquery.fancybox.min.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/animated-headline.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/chosen.min.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/moment.min.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/datedropper.min.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/waypoints.min.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/jquery.counterup.min.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/jquery-rating.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/tilt.jquery.min.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/jquery-supperslides.min.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/superslider-script.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/jquery.lazy.min.js"></script>
<script src="https://collegeofwooster.trufflestg.com/assets-website/js/main.js"></script>
<div class="modal fade" id="newslatter-modal">
<div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
       <h6 class="newslatter_subscrib">Your subscribe added successfully..!</h6>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal" id="">Ok</button>
      </div>
    </div>
  </div>
</div> 
<input type="hidden" name="" id="latitude" value="">
<script type="text/javascript">

    $('#newlattersub_form').on('submit', function(e) {
        e.preventDefault();

        var textValue = $("#email").val();
        if(textValue == ''){
             $(".email_error").html("Email is required");
             return false;
        }
        //alert(textValue);
        if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(textValue))
        {
            $(".email_error").html("");
            $(".email_notify").html("");                                    
            var parent_fieldset = $(this).parents('fieldset');
            $('.help-block').html('');
            $('.kt-form__help').html('');
            $.ajax({
                type: 'post',
                url: "https://collegeofwooster.trufflestg.com/add-newlattersubscription",
                data: $('form#newlattersub_form').serialize(),
                dataType: 'json',
                success: function(data) {
                    var obj = JSON.parse(JSON.stringify(data));
                    // alert(obj.msg);
                    if (obj.status == 'success') {
                        $('#newslatter-modal').modal('show'); 
                        // $("#email").val('');
                        $(".newslatter_subscrib").html(obj.msg);
                    }else if(obj.status == 'notify'){
                        $(".email_notify").html(obj.msg);                        
                    } else{
                        alert(obj.msg);
                    }
                },
                error: function(data) {
                    if (obj.status == 'fail') {
                        $('#newslatter-modal').modal('show'); 
                        // $("#email").val('');
                        $(".newslatter_subscrib").html(obj.msg);
                    }else{
                        alert(obj.msg);
                    }
                    // if (data.status === 422) {

                    //     var errors_ = data.responseJSON;
                    //     $.each(errors_.errors, function(key, value) {
                    //         $('.' + key).html(value);
                    //     });
                    // }
                }
            });
        
        }else{
            $(".email_error").html("Please Enter valid Email");
            return false;
        }
        
    });


 //    $("#search").keyup(function() 
 // {
 //      //var type = $('#delivery_type').val();
      
 //      var name = $('#search').val();
 //      if(name.length >= 1)
 //      {
 //         $.ajax({
 //           url: "https://collegeofwooster.trufflestg.com/search-data",
 //           type: 'GET',
 //           data: { 
 //            //'name' : name , "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR"
 //            },
 //           success:function(response)
 //           {
 //                if(response != ''){
 //                   // viewsearchdata(response);
 //                   window.location.href = 'search-data/'+name  
 //                 //  location.replace('/view-search-data');
 //                 }else{
 //                    return false;
 //                 }
               
 //             //$(".card-body").html(response);
 //            }
 //        });   
 //            }else{
 //         var name_one = 'blank';

 //        $.ajax({
 //        url: "https://collegeofwooster.trufflestg.com",
 //         type: 'POST',
 //        data: { 'name_one' : name_one , "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR"},
 //        success:function(response) {
          
 //               $(".card-body").html(response);

         
 //               }
       
 //    });


 //      }
      
      

 // });

    // function viewsearchdata(datasting){
    //      $.ajax({
    //        url: "https://collegeofwooster.trufflestg.com/view-search-data",
    //        type: 'POST',
    //        data: { 'string' : datasting , "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR"},
    //        success:function(data)
    //        {


    //        }


    //      });   

    // }

$(document).ready(function(){
 

var lat = $("#latitude").val();
var sessionlat = '0';
//if(lat == "" && sessionlat == ""){


    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else {
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
  function showPosition(position) {
   
     var latitude = position.coords.latitude; 
     var longitude =  position.coords.longitude;
     $("#latitude").val(latitude);
   
     // sessionStorage.setItem("Latitude",latitude); 
     // sessionStorage.setItem("Longitude",longitude); 

     $.ajax({
           url: "https://collegeofwooster.trufflestg.com/set-latlong",
           type: 'POST',
           data: { 'latitude' : latitude , 'longitude' : longitude, "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR"},
           success:function(data)
           {


           }


         });
         
  }
  //}
});
</script> 
<script type="text/javascript">
     
     $('#search').on('input', function (event) { 
        this.value = this.value.replace(/[^a-zA-Z0-9\s]/g, '');
     });
     
     $(window).bind("pageshow", function() {
         if(window.location.pathname != '/search-data') 
         {
            $('#search').val("");
         }
     });
        $(document).ready(function(){
            $(".closebtn").click(function(){
                $("#mySidenavCart").removeClass("open-cartnav"); 
                  $("body").css("overflow", "inherit");
            });

            $(".sidebar-box").click(function(){
                $("#mySidenavCart").addClass("open-cartnav");
               $("body").css("overflow", "hidden");
            });
        });
        function passIdForNote(cart_id,typenotes) {
        $("#addnotemodal-footer").modal("show");
        $('#get_cart_id').val(cart_id);
        $('#note_msg').html('');
        $('#typenotes').val(typenotes);
      }
      addNotes = function(){
    var typeNotes = $('#typenotes').val();
    if(typeNotes.trim().length < 1)
    {
        $('#note_msg').html('Please Enter Note');
    }else{
        var getCartId = $('#get_cart_id').val();
        var isGuest = "";
        if(isGuest == 1){
            var addTypeNote = "https://collegeofwooster.trufflestg.com/guest-add-type-note";
        }else{
            var addTypeNote = "https://collegeofwooster.trufflestg.com/add-type-note";
        }
        $('#note_msg').html('');
        $("#addnotemodal-footer").modal("hide");
        $.ajax({
            type: "POST",
            url: addTypeNote,
            data: {
                "cart_id": getCartId,
                "note": typeNotes,
                "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
            },
            dataType: 'json',
            success: function(response) {
                var obj = JSON.parse(JSON.stringify(response));
                if (obj.status == 'success') {
                    location.reload();
                } else {
                    location.reload();
                }
            }
        });
    }
   }
        function changeQty(val) {

        var cart_id = val.id;
        var qty = $(val).attr("data-id");
        var avaible_qty = $("#qtyvalue_" + cart_id).html();

        // if(avaible_qty == 1 && qty == -1){
        //     return false;
        // }
      //   alert();

        $.ajax({
            type: "POST",
            url: "https://collegeofwooster.trufflestg.com/change-quantity",
            data: {
                "cart_id": cart_id,
                "qty": qty,
                "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
            },
            dataType: 'json',
            success: function(response) {
                var obj = JSON.parse(JSON.stringify(response));
                if (obj.status == 'success') {
                  // alert(obj.total);
                  // alert(cartmodifier);
                  var new_tot = obj.total;
                  var qty_incr = obj.cart_count;
                  // alert(cartmodifier);
                    // location.reload();
                    // var qtycount = $("#qtyvalue_" + cart_id).text();
                    //  var qty = Number(qtycount) + 1;
                    //  $("#qtyvalue_" + cart_id).html(qty);
                    //  $("#qty").val(qty);
                     // var qty = $(val).attr("data-id");
                     // var new_qty = $("#qtyvalue_" + cart_id).html(); 

                     // new code
                     var qty = $(val).attr("data-id");
                                  
                     if (qty == 1) {
                        var qtycount = $("#qtyvalue_" + cart_id).text();
                        var qty = Number(qtycount) + 1;
                         $("#qtyvalue_" + cart_id).html(qty);
                         $("#qty_incr").html(qty_incr + " Items");

                         var item_total = $(val).attr("value-id");
                         var id = $(val).attr("item-id");
                         var item_total = $("#item_totalid_" + id).html("$"+parseFloat((item_total) * (qty)).toFixed(2));
                         
                         var combo_total = $(val).attr("combo-id");
                        //  alert(combo_total);
                        //   alert(combo_total);
                         var combo_id = $(val).attr("combo-item-id");
                         var combo_total = $("#item_tot_combo_" + combo_id).html("$"+parseFloat((combo_total) * (qty)).toFixed(2));

                         var modi_value = $("#modi_value").val();
                         var taxx = $("#taxamount").val();
                         var dcostt = $("#dcost").val();
                        //  if(dcostt){
                        //    dcost1 = dcostt;
                        //  }else{
                        //    dcost1 = 0;
                        //  }

                         var myspan = $("#findSideTotald").text();
                         var str = myspan.replace("$", "");
                         var total_price = $(val).attr("total-price");
                         var single_item_price = $(val).attr("value-id");
                         var combu = $("#combu").val();
                        //  alert(combu);


                        //  alert(dcostt);
                        //  alert(single_item_price);
                        //  alert(modi_value);
                        //  alert(single_item_price)
                        //  alert(str);
                        //  alert(single_item_price);
                       
                         var totalnew = (new_tot).toFixed(2);
                         // alert(totalnew)
                          var footer_total_itemprice = $("#findSideTotald").html("$"+  (totalnew) );
                          $("#findSideTotal").html("$"+  (totalnew) );
                        //  var single_item_price = $(val).attr("value-id");

                        //  alert(total_price);
                        //  alert(str);
                        
                        //  alert(footer_total_price);
                        // location.reload();

                     }else{
                        // var qtycount = $("#qtyvalue_" + cart_id).text();
                        // var qty = Number(qtycount) - 1;
                        // $("#qtyvalue_" + cart_id).html(qty);
                        // var item_total = $(val).attr("value-id");
                        // var id = $(val).attr("item-id");
                        // var item_total = $("#item_totalid_" + id).html("$"+parseFloat((item_total) * (qty)).toFixed(2));

                        // var combo_total = $(val).attr("combo-id");
                        // var combo_id = $(val).attr("combo-item-id");
                        // var combo_total = $("#item_tot_combo_" + combo_id).html("$"+((combo_total) * (qty)));

                        // var myspan = $("#findSideTotald").text();
                        //  var str = myspan.replace("$", "");                    
                        //  var total_price = $(val).attr("total-price");
                        //  var single_item_price = $(val).attr("value-id");                        
                        //  var footer_total_price =   parseInt(str) - parseInt(total_price) ;
                        //  var footer_total_itemprice = $("#findSideTotald").html("$"+  (footer_total_price) +".00");
                        var new_tot = obj.total;
                        var qty_incr = obj.cart_count;


                         
                        var qtycount = $("#qtyvalue_" + cart_id).text();
                        var qty = Number(qtycount) - 1;
                         $("#qtyvalue_" + cart_id).html(qty);
                         $("#qty_incr").html(qty_incr + " Items");

                         var item_total = $(val).attr("value-id");
                        //  alert(item_total);
                         var id = $(val).attr("item-id");
                         var item_total = $("#item_totalid_" + id).html("$"+parseFloat((item_total) * (qty)).toFixed(2));

                         var combo_total = $(val).attr("combo-id");
                         var combo_id = $(val).attr("combo-item-id");
                         var combo_total = $("#item_tot_combo_" + combo_id).html("$"+parseFloat((combo_total) * (qty)).toFixed(2));

                         var myspan = $("#findSideTotald").text();
                         var str = myspan.replace("$", "");
                         var total_price = $(val).attr("total-price");
                         var single_item_price = $(val).attr("value-id");


                         var modi_value = $("#modi_value").val();
                         var taxx = $("#taxamount").val();
                         var dcostt = $("#dcost").val();
                         var combu = $("#combu").val();
                         // alert(single_item_price);
                        //  var footer_total_price =  parseInt(total_price) + parseInt(single_item_price);
                        // var footer_total_price =  parseFloat(single_item_price) + parseFloat(modi_value) + parseFloat(taxx) + parseFloat(combu);
                        var totalnew = (new_tot).toFixed(2);
                          //alert(footer_total_price)
                          var footer_total_itemprice = $("#findSideTotald").html("$"+  (totalnew) );
                          $("#findSideTotal").html("$"+  (totalnew) );


                        //  var totalnew = (totalnew1).toFixed(2);
                        //   //alert(footer_total_price)
                        //   var footer_total_itemprice = $("#findSideTotald").html("$"+  (totalnew) );
                         

                      
                        
                     }
                    var out_qty = $("#qtyvalue_" + cart_id).html();
                    if (out_qty == '0') {
                     // location.reload();
                      window.location.href = "/home";
                    }
                   
                } else {
                    return false;
                }  
            }
        });
        }

        function removeItem(cart_id) {

        $("#conformation-modal-footer").modal('show');
        $('#yes').on('click', function(event) {
            $.ajax({
                type: "POST",
                url: "https://collegeofwooster.trufflestg.com/remove-card-item",
                data: {
                    "id": cart_id,
                    "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
                },
                dataType: 'json',
                success: function(response) {

                    var obj = JSON.parse(JSON.stringify(response));

                    if (obj.status == 'success') {                       
                        location.reload();
                    } else {
                        location.reload();
                    }
                }
            });
        });
        return false;
        }

         // function showtotal(value)
         // {
         //    var value =  $("#findSideTotal").val();
         //    $("#findSideTotald").html(value);
         // }
        </script>
<!-- <script>

function openNav() {
  document.getElementById("mySidenav").style.width = "420px";
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
}
</script> -->
        
<script src="https://collegeofwooster.trufflestg.com/assets-frontend//js//intlTelInput-jquery.min.js"></script>
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> -->

<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script> -->
<script type="text/javascript">




       $('#use_Account_use').on('click', function(){  

     

        //$("#use_Account_use").attr('disabled','disabled');




        // alert('here');
       
         // $("#use_Account").css("display", "block");
         // $("#use_plan").css("display", "none");

         var totalamount = $("#totalAmount").val();
         var mname = $("#mname").val();
           var restaurant_id =  document.getElementById('restaurant_id').value;
         //  alert(restaurant_id);
       // var reststd =  document.getElementById('reststd').value;
        var restaurant_branch_id =  document.getElementById('menu_name').value;
         var submit_type = "useAccount";
         var plan_exempt_amountperunit = $("#plan_exempt_amountperunit").val();
         $("#pageloader").fadeIn();
         $.ajax({
               type: 'POST',
               url: "https://collegeofwooster.trufflestg.com/store-account-itc",
               data: {"_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",totalamount:totalamount,mname:mname ,submit_type:submit_type,plan_exempt_amountperunit:plan_exempt_amountperunit,restaurant_id:restaurant_id,restaurant_branch_id:restaurant_branch_id},
               dataType: 'json',
               success: function(data) {

                //  alert(data.status);

               //   if(data.status == 202)
               // {
               //    // alert('here');
               //    $("#pageloader").fadeOut();
               //    alert(data.message);
               // }

               // location.reload();
               console.log("Record has been added successfully");

               
                  // /}
               },error: function(data) {
                  // location.reload();

                  if (data.status === 200) {



                        
                  

                    window.location.href = "https://collegeofwooster.trufflestg.com/view-cart" + "/" + "itc" ;

                  //   $("#pageloader").fadeOut();

                  



                   // location.reload();
                  }
                  if (data.status === 422) {
                     $(".itc_error").show();
                     var errors_ = data.responseJSON;
                     $.each(errors_.errors, function(key, value) {
                        $('.' + key).html(value);
                     });
                  }
               }
         });

    

      });

       $("#use_plan_use").click(function(){

      
       


      var totalamount = $("#totalAmount").val();
      var mname = $("#mname").val();
      var submit_type = "plan";
      var plan_exempt_amountperunit = $("#plan_exempt_amountperunit").val();
        var restaurant_id =  document.getElementById('restaurant_id').value;
         //  alert(restaurant_id);
       // var reststd =  document.getElementById('reststd').value;
        var restaurant_branch_id =  document.getElementById('menu_name').value;

      // $("#use_plan").css("display", "block");
      // $("#use_Account").css("display", "none");

  $("#pageloader").fadeIn();
      $.ajax({
               type: 'POST',
               url: "https://collegeofwooster.trufflestg.com/store-account-itc",
               data: {"_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",totalamount:totalamount,mname:mname ,submit_type:submit_type,plan_exempt_amountperunit:plan_exempt_amountperunit,restaurant_id:restaurant_id,restaurant_branch_id:restaurant_branch_id},
               dataType: 'json',
               success: function(data) {

               //    if(data.status == 202)
               // {
               //    // alert('here');
               //    $("#pageloader").fadeOut();
               //    alert(data.message);
               // }



                //  alert(data.status);

               // location.reload();
               console.log("Record has been added successfully");

               
                  // /}
               },error: function(data) {
                  // location.reload();

                  if (data.status === 200) {



                       
                 

                    window.location.href = "https://collegeofwooster.trufflestg.com/view-cart" + "/" + "itc" ;



                     //$("#pageloader").fadeOut();

                      

                   // location.reload();
                  }
                  if (data.status === 422) {
                     $(".itc_error").show();
                     var errors_ = data.responseJSON;
                     $.each(errors_.errors, function(key, value) {
                        $('.' + key).html(value);
                     });
                  }
               }
         });
   });


          $( document ).ready(function() {

            var amount = $("#amount_itc").val();
            
            var amountone = $("#new_tott").val();            

            var newamount = amountone-amount;  

            if(newamount <= 0){
               $("#pageloader").fadeIn();

               $('#new_tott').html('0.00');


               var balance_amt = $('#balance_amt').val();       
               var total_amt = $('#final_amount').val();
            
               // if (parseInt(balance_amt) >= parseInt(total_amt)) {
               $("#paymenttype").val('Student balance');
               $("#reststd").val('restrictStudent');

               

               var parent_fieldset = $(this).parents('fieldset');
               $('.help-block').html('');
               $('.kt-form__help').html('');

               $.ajax({
                  type: "POST",
                  url: "https://collegeofwooster.trufflestg.com/place-order",
                  data: $('form#placeOrderForm').serialize(),
                  dataType: 'json',
                  cache: false,

                     success: function(data) {
                          
                           var obj = JSON.parse(data);                           
                           if (obj.code == 200) {                     
                              setTimeout(function() {
                                    alert("Order Placed successfully...!");
                                 },500);
                              window.location = 'https://collegeofwooster.trufflestg.com/track-order/'+obj.order_id;
                           }else if(obj.code == 201){
                              setTimeout(function() {
                                 alert(obj.message);
                              },500);
                              location.reload();
                           }else if(obj.code == 202){
                           setTimeout(function() {
                                 alert(obj.message);
                              },500);
                              location.reload();
                           }else{
                              setTimeout(function() {
                                 alert("Order not placed successfully..!");
                              },500);
                              location.reload();
                           }

                            $("#pageloader").fadeOut();
                     },
                  });
                  return false;
            }
           
         });



   $('#continueasguestform').on('submit', function(e) {

       e.preventDefault();
       var parent_fieldset = $(this).parents('fieldset');
       $('.help-block').html('');
       $('.kt-form__help').html('');
       $.ajax({
           type: 'post',
           url: "https://collegeofwooster.trufflestg.com/save_guest_user_details",
           data: $('form#continueasguestform').serialize(),
           dataType: 'json',
           success: function(data) {

               // var obj = JSON.stringify(data);
                // var obj = JSON.parse(data);
               
                  //   location.reload();
                  $('#continue-as-guest').modal('hide');
                  $('#ConfirmModalGuest').modal('show');
               
                // }else{
                //   alert(obj.message);
                // }

               // alert(data);
               // window.location.href = "https://collegeofwooster.trufflestg.com/product-and-item-management/index";

               // var obj = JSON.stringify(data);

               // //var obj = JSON.parse(JSON.stringify(data));
               // if (obj.status == 'success') {
               // $(".required_modifier_field").html(data.html);
               // $('.close_btn').trigger('click');
               // /}
           },
           error: function(data) {
               // alert(data);

               if (data.status === 422) {

                   var errors_ = data.responseJSON;
                   $.each(errors_.errors, function(key, value) {
                       $('.' + key).html(value);
                   });
               }
           }
       });
   });


   $('#guestuserform').on('submit', function(e) {

       e.preventDefault();
       var parent_fieldset = $(this).parents('fieldset');
       $('.help-block').html('');
       $('.kt-form__help').html('');
       $.ajax({
           type: 'post',
           url: "https://collegeofwooster.trufflestg.com/create-an-account",
           data: $('form#guestuserform').serialize(),
           dataType: 'json',
           success: function(data) {
             var obj = JSON.stringify(data);

                if(obj.status == 'success'){
                    location.reload();
                  // $('#ConfirmModal').modal('hide');
                  // $('#continueasguestform').modal('hide');
                }else{
                    //alert(obj.message);
                    location.reload();
                }

               // alert(data);
               // window.location.href = "https://collegeofwooster.trufflestg.com/product-and-item-management/index";

               // var obj = JSON.stringify(data);

               // //var obj = JSON.parse(JSON.stringify(data));
               // if (obj.status == 'success') {
               // $(".required_modifier_field").html(data.html);
               // $('.close_btn').trigger('click');
               // /}
           },
           error: function(data) {
               // alert(data);

               if (data.status === 422) {

                   var errors_ = data.responseJSON;
                   $.each(errors_.errors, function(key, value) {
                       $('.' + key).html(value);
                   });
               }
           }
       });
   });
   $("#phonenumber").intlTelInput({
      separateDialCode: true
   });

   function sendaddress(add,id) {
   $('#address').val(add);
   $('#user_address').val(id);
   }
    function showResult(status, msg) {
       document.getElementById('txn_status').innerHTML = "<b>" + status + "</b>";
       document.getElementById('txn_response').innerHTML = msg;
   }
   function pay() {
       var token = document.getElementById('token').value;
       var card = document.getElementById('card').value;
       var exp = document.getElementById('exp').value;
       var cvv = document.getElementById('cvv').value;
       var customer_name = document.getElementById('customer_name').value;
       var number = document.getElementById('number').value;
       var gettoken = document.getElementById('gettoken').value;
       var addtoken = document.getElementById('addtoken').value;
       var firstname = document.getElementById('first_name').value;
       var lastname = document.getElementById('last_name').value;
      // var address = document.getElementById('address').value;
       //var zip_code = document.getElementById('zip_code').value;
       var merchanttxnid = document.getElementById('merchanttxnid').value;
       var pickupdate =  $('#datepicker1').val();
       var pickuptime =  $('#timepicker1').val();
        $("#error_msg_token").html("");
        $("#error_msg_card").html("");
        $("#error_msg_expdate").html("");
        $("#error_msg_cvv2").html("");
        $("#error_msg_txn").html("");
        $("#error_msg_customer_name").html("");
        $("#error_msg_number").html("");
        $("#error_msg_zip_code").html("");

      //   if(address == '' || address == null){
      //       address = $('#restaurantAddress').val();
      //   }
       if(token != "" && card != "" && exp != "" && cvv != "" && merchanttxnid != "" && customer_name != "" && number != ""){
           $("#pageloader").fadeIn();

           var paymentData = {
               ssl_txn_auth_token: token,
               ssl_card_number: card,
               ssl_exp_date: exp,
               ssl_get_token: gettoken,
               ssl_add_token: addtoken,
               ssl_first_name: firstname,
               ssl_last_name: lastname,
               ssl_cvv2cvc2: cvv,
               ssl_merchant_txn_id: merchanttxnid,
              // ssl_avs_address: address,
              // ssl_avs_zip: zip_code,
               ssl_pickuptime: pickuptime,
               ssl_customer_name: customer_name
           };
           var callback = {
               onError: function (error) {
                   showResult("error", error);
               },
               onDeclined: function (response) {
                   console.log("Result Message=" + response['ssl_result_message']);
                   showResult("declined", JSON.stringify(response));
               },
               onApproval: function (response) {
           //         var formValues= $("#placeOrderForm").serialize();
           // $.ajax({
           //     type: 'post',
           //     url: "https://collegeofwooster.trufflestg.com/place-order",
           //     data: formValues,
           //     success: function(data) {
           //         $("#pageloader").fadeOut();
           //         //return false;
           //         var obj = JSON.parse(data);
           //         //var obj = JSON.parse(JSON.stringify(data));
           //         if (obj.status == 'success') {
           //         localStorage.removeItem('add_tip_session');
           //         localStorage.removeItem('loyalty_amount_session');
           //         setTimeout(function() {
           //             alert("Order Placed successfully...!");
           //         },500);
           //         window.location = 'https://collegeofwooster.trufflestg.com/track-order/'+obj.orderId;
           //         }else{
           //             setTimeout(function() {
           //                 alert("Order not placed successfully..!");
           //             },500);
           //             location.reload();
           //         }
           //     }
           // });

                   console.log("Approval Code=" + response['ssl_approval_code']);
                   showResult("approval", JSON.stringify(response));

               }
           };
           ConvergeEmbeddedPayment.pay(paymentData, callback);
           return false;
       }else{

           if(token == ""){
               $("#error_msg_token").html("Please Enter Transaction Token").css("color", 'red');
           }if(card  == ""){
               $("#error_msg_card").html("Please Enter Card Number").css("color", 'red');
           }if(exp  == ""){
               $("#error_msg_expdate").html("Please Enter Expiry Date").css("color", 'red');
           }if(cvv  == ""){
               $("#error_msg_cvv2").html("Please Enter CVV2").css("color", 'red');
           }if(merchanttxnid  == ""){
               $("#error_msg_txn").html("Please Enter Merchant TXN Id").css("color", 'red');
           }if(customer_name  == ""){
               $("#error_msg_customer_name").html("Please Enter Name").css("color", 'red');
           }if(number  == ""){
               $("#error_msg_number").html("Please Enter Phone Number").css("color", 'red');
           }
       }
   }

   function showResult(status, msg) {
       // document.getElementById('txn_status').innerHTML = "<b>" + status + "</b>";
       // document.getElementById('txn_response').innerHTML = msg;

         var obj = jQuery.parseJSON(msg);
         var first_name = obj.ssl_first_name;
         var last_name = obj.ssl_last_name;
         var address = obj.ssl_avs_address;
         var card_type = obj.ssl_card_type;
         var card_description = obj.ssl_card_short_description;
         var txn_id = obj.ssl_txn_id;
         var vendor_id = obj.ssl_vendor_id;
         var approval_code = obj.ssl_approval_code;
         var transaction_type = obj.ssl_transaction_type;
         var avs_zip = obj.ssl_avs_zip;
         var result_message = obj.ssl_result_message;
         var transaction_reference_number = obj.ssl_transaction_reference_number;
         var amount = obj.ssl_amount;
         var invoice = obj.ssl_invoice_number;

         var restaurant_id =  document.getElementById('restaurant_id').value;
         var restaurant_branch_id =  document.getElementById('menu_name').value;

         $.ajax({
             type: "POST",
             url: "https://collegeofwooster.trufflestg.com/transaction_data",
             data:{
                 "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
                 first_name:first_name,last_name:last_name,address:address,card_type:card_type,txn_id:txn_id,
                 transaction_type:transaction_type,avs_zip:avs_zip,result_message:result_message,transaction_reference_number:transaction_reference_number,vendor_id:vendor_id,amount:amount,card_description:card_description,approval_code:approval_code,invoice:invoice,restaurant_id:restaurant_id,restaurant_branch_id:restaurant_branch_id
             },
             cache: false,

             success: function(data) {
                 var obj = JSON.parse(data);
                 if (obj.status == 'success') {
                     if(obj.payment_status == 'APPROVAL'){
                         // window.location.href = 'https://api.trufflerms.com/success/'+obj.txn_id;
                         myplaceorder();
                     }else{
                        $("#pageloader").fadeOut();
                        alert("Payment Error, Please Try Later");
                        location.reload();
                         // window.location.href = 'https://api.trufflerms.com/failed/'+obj.txn_id;
                     }
                 }else{
                     $("#pageloader").fadeOut();
                     alert("Payment Error, Please Try Later");
                     location.reload();
                  }
             }
         });
     }

   function myplaceorder(){
           // var form = document.getElementById('placeOrderForm').submit();
           //e.preventDefault();
           //alert("Fff");
           var formValues= $("#placeOrderForm").serialize();
         //   alert(formValues);
           var isGuest = "";
           $.ajax({
               type: 'POST',
               url: "https://collegeofwooster.trufflestg.com/place-order",
               data: formValues,
               dataType: 'json',
               success: function(data) {
                  // alert(data);
                   $("#pageloader").fadeOut();
                   //return false;
                   
                    
                   var obj = JSON.parse(data);
                   //var obj = JSON.parse(JSON.stringify(data));
                   if (obj.code == 200) {
                     localStorage.removeItem('add_tip_session');
                     localStorage.removeItem('loyalty_amount_session');
                     setTimeout(function() {
                        alert("Order Placed successfully...!");
                     },500);
                     if(isGuest == 1){
                        // location.reload();

                        window.location = 'https://collegeofwooster.trufflestg.com/guest-order-invoice/'+obj.order_id;
                     }else{

                        window.location = 'https://collegeofwooster.trufflestg.com/track-order/'+obj.order_id;
                     }
                   }else if(obj.code == 201){
                       setTimeout(function() {
                           alert(obj.message);
                       },500);
                       location.reload();
                   }else if(obj.code == 202){
                     setTimeout(function() {
                           alert(obj.message);
                       },500);
                       location.reload();
                   }else{
                       setTimeout(function() {
                           alert("Order not placed successfully..!");
                       },500);
                       location.reload();
                   }
               },
                error: function(data) {                  
                   location.reload();
                }
           });
   }

   $("#paymentpopupbalance").click(function(){

       var balance_amt = $('#balance_amt').val();       
       var total_amt = $('#final_amount').val();
      
      // if (parseInt(balance_amt) >= parseInt(total_amt)) {
      $("#paymenttype").val('Student balance');
      $("#reststd").val('restrictStudent');

      $("#pageloader").fadeIn();

       var parent_fieldset = $(this).parents('fieldset');
       $('.help-block').html('');
       $('.kt-form__help').html('');

       $.ajax({
           type: "POST",
           url: "https://collegeofwooster.trufflestg.com/place-order",
           data: $('form#placeOrderForm').serialize(),
           dataType: 'json',
           cache: false,

           success: function(data) {
               $("#pageloader").fadeOut();
               var obj = JSON.parse(data);                           
               if (obj.code == 200) {                     
                  setTimeout(function() {
                        alert("Order Placed successfully...!");
                     },500);
                  window.location = 'https://collegeofwooster.trufflestg.com/track-order/'+obj.order_id;
               }else if(obj.code == 201){
                  setTimeout(function() {
                     alert(obj.message);
                  },500);
                  location.reload();
               }else if(obj.code == 202){
               setTimeout(function() {
                     alert(obj.message);
                  },500);
                  location.reload();
               }else{
                  setTimeout(function() {
                     alert("Order not placed successfully..!");
                  },500);
                  location.reload();
               }
           },
       });
       return false;
   //  }else{
      // alert("Please select another payment method");
   //  }
   });

</script>
<script>
   $("#placeorderClick").click(function(){
   $("#placeorder-modal").modal('show');
   $('#login').on('click', function(event){
   $("#placeorder-modal").modal('hide');
         window.location.href = "/login";
     });
   });
   function onlyNumberKey(evt) {

    // Only ASCII character in that range allowed
    var ASCIICode = (evt.which) ? evt.which : evt.keyCode
    if (ASCIICode > 31 && (ASCIICode < 48 || ASCIICode > 57))
        return false;
    return true;
   }
   $(document).ready(function() {
      $("#delivery_charge").html("$" + Number($('#delivery_cost').val()).toFixed(2));
    // $("#tip_amount").numeric();
    var getType = $("#orderType").val();
       if(getType == "Dine In")
       {
            $("#address").attr('disabled','disabled');
            $("#address").css({cursor:"not-allowed"});
            $("#address").val('');
            $("#select-address").attr('disabled','disabled');
            $("#select-address").css({cursor:"not-allowed"});
            $("#add-address").attr('disabled','disabled');
            $("#add-address").css({cursor:"not-allowed"});
      }
   });

   $(document).ready(function() {
      var value = $( 'input[name=radio]:checked' ).val();
      if (value == 'user') {
         $("#pay_with_balance").show();
         $("#pay_with_card").hide();
      }else{
         $("#pay_with_balance").hide();
         $("#pay_with_card").show();
      }
   });
   $('input[name=radio]').change(function(){
      var value = $( 'input[name=radio]:checked' ).val();
      if (value == 'user') {
         $("#pay_with_balance").show();
         $("#pay_with_card").hide();
      }else{
         $("#pay_with_balance").hide();
         $("#pay_with_card").show();
      }
   });

   $("#confirmationpopup").click(function(){
      $("#ConfirmModal").modal('show');
   });
   $("#paylaterconfirmation").click(function(){

      var getType = $("#orderType").val();
     
      //    var pick_up =       
      // if(pick_up != "on"){
      //    alert('Please Select Order Type');
      // }
      



      $("#country_code").val('+'+$("#phonenumber").intlTelInput("getSelectedCountryData").dialCode);
      $("#country_code_name").val('+'+$("#phonenumber").intlTelInput("getSelectedCountryData").iso2);
      $("#trns_guest").val('');

      $("#paymenttype").val('');
      var pay_first_name =  document.getElementById('first_name').value;
      var pay_last_name =  document.getElementById('last_name').value;
      var pay_address =  document.getElementById('address').value;
      var pay_email =  document.getElementById('email').value;
      var studentflag =  document.getElementById('studentflag').value;
      var balancenew =  document.getElementById('balancenew').value;
      var pay_zipcode =  document.getElementById('zipcode').value;
      var pay_amount = $(".tot_amount").html().replace("$", "");
      var pay_phone =  document.getElementById('phonenumber').value;
      var deliverydate =   $('#datepicker1').val();
      var deliverytime =   $('#timepicker1').val();

      // alret( pay_first_name);
     

      $("#pickupdate").val($('#datepicker1').val());
      $("#pickuptime").val($('#timepicker1').val());
      
      let current_datetime = new Date();      
      let formatted_date = (current_datetime.getMonth('00') + 1) + "/" + (current_datetime.getDate()) + "/" + current_datetime.getFullYear()
      const myArray = formatted_date.split("/");

      var time = current_datetime.getHours() + ":" + current_datetime.getMinutes();
      
      var month = myArray[0].trim().length;
      if(month == 1){

         var current_date = "0"+myArray[0]+"/"+myArray[1]+"/"+myArray[2];

      }else{
         var current_date = myArray[0]+"/"+myArray[1]+"/"+myArray[2];

      }
      //console.log(current_date + "---" + deliverydate);

       
      if((pay_zipcode.trim().length < 1 || pay_first_name.trim().length < 1 ||  pay_phone.trim().length < 1 || pay_email.trim().length < 1 || pay_last_name.trim().length < 1 || pay_address.trim().length < 1) && (getType == 'Delivery'))
      {

         // alert(getType);
         
         if(pay_first_name.trim().length < 1){
            $("#error_msg_first_name").html("Please Enter First Name").css("color", 'red');
         }else{
            $("#error_msg_first_name").html("");
         }if(pay_last_name.trim().length < 1){
            $("#error_msg_last_name").html("Please Enter Last Name").css("color", 'red');
         }else{
            $("#error_msg_last_name").html("");
         }if(pay_address.trim().length < 1 && getType == 'Delivery'){
            $("#error_msg_address").html("Please Select Address").css("color", 'red');
            $("#error_msg_add_address").html("Please Add Address").css("color", 'red');
         }else{
            $("#error_msg_address").html("");
            $("#error_msg_add_address").html("");
         }
         if(pay_zipcode.trim().length < 1){
            $("#error_msg_zipcode").html("Please Add Zip Code / Postal Code").css("color", 'red');
         }else{
            $("#error_msg_address").html("");
            $("#error_msg_zipcode").html("");
         }
         if(pay_email.trim().length < 1){
         $("#error_msg_main_email").html("Please Enter Email Address").css("color", 'red');
         }else{
         $("#error_msg_main_email").html("");
         }
         if(pay_email){
            var validateEmail=  /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            if(!pay_email.match(validateEmail))
            {
               $("#error_msg_main_email").html("The Email Must Be A Valid Email Address").css("color", 'red');
            }
         }
         if(pay_phone.trim().length == 0){
               $("#error_msg_main_phone").html("Please Enter Phone Number").css("color", 'red');
            }else if(pay_phone.trim().length < 6){
               $("#error_msg_main_phone").html("Please Enter Minimum 6 Digit").css("color", 'red');
            }else{
               $("#error_msg_main_phone").html("");
            }
            $("#ConfirmModal").modal('hide');
            return false;
      }

      let dsff = $('#get_cur_time').val();
      str1 =  dsff.split(':');
      str2 =  deliverytime.split(':');
      if(str2[0] < 10){
         str2[0] = 0+str2[0];
      }
      totalSeconds1 = parseInt(str1[0] * 3600 + str1[1] * 60 + str1[0]);
      totalSeconds2 = parseInt(str2[0] * 3600 + str2[1] * 60 + str2[0]);
      var current_date = $("#curntDateN").val();
      if (deliverydate > current_date) {                        
      }else{
            // if (time < deliverytime) {
            if (totalSeconds1 <= totalSeconds2) {
                        
               $("#error_msg_timepick").html("");
               //return false;
            }else{
               $("#error_msg_zipcode").html("");
                $("#error_msg_timepick").html("You can not select past time").css("color", 'red');
                $("#ConfirmModal").modal('hide');
                return false;
            }  
      }
    
      if(pay_email)
      {
         var validateEmail=  /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
         if(!pay_email.match(validateEmail))
         {
            $("#error_msg_main_email").html("The Email Must Be A Valid Email Address").css("color", 'red');
            $("#ConfirmModal").modal('hide');
            return false;
         }
      }
      if(pay_address.trim().length < 1 && getType == 'Delivery')
      {
         $("#error_msg_address").html("Please Select Address").css("color", 'red');
         $("#ConfirmModal").modal('hide');
         return false;

      }
      else
      {
         // alert("ddd");
         $("#pageloader").fadeIn();
         $("#error_msg_token").html("");
         $("#error_msg_card").html("");
         $("#error_msg_expdate").html("");
         $("#error_msg_cvv2").html("");
         $("#error_msg_txn").html("");
         $("#error_msg_main_email").html("");
         $("#error_msg_number").html("");
         $("#error_msg_customer_name").html("");
         $("#card").val("");
         $("#error_msg_main_phone").html("");
         $("#cvv").val("");
         $("#exp").val("");
         $("#customer_name").val("");
         $("#number").val("");
         $("#error_msg_address").html("");
         $("#error_msg_add_address").html("");
         $("#error_msg_your_name").html("");
         $("#error_msg_zipcode").html("");
         $("#error_msg_zip_code").html("");
         $("#ConfirmModal").modal('hide');

         myplaceorder();
      }
   });


   $("#paymentpopupv").click(function(){
      $("#country_code").val('+'+$("#phonenumber").intlTelInput("getSelectedCountryData").dialCode);
      $("#country_code_name").val('+'+$("#phonenumber").intlTelInput("getSelectedCountryData").iso2);
      $("#paymenttype").val('Online');
      $("#reststd").val('');

    var pay_first_name =  document.getElementById('first_name').value;
    var pay_last_name =  document.getElementById('last_name').value;
    var pay_address =  document.getElementById('address').value;
    // var pay_amount =  document.getElementById('final_amount').value;
    var pay_email =  document.getElementById('email').value;
    var studentflag =  document.getElementById('studentflag').value;
    var balancenew =  document.getElementById('balancenew').value;
    var pay_zipcode =  document.getElementById('zipcode').value;
    var pay_amount = $(".tot_amount").html().replace("$", "");
    var pay_phone =  document.getElementById('phonenumber').value;

    $("#pickupdate").val($('#datepicker1').val());
    $("#pickuptime").val($('#timepicker1').val());
    var getType = $("#orderType").val();

    if((pay_zipcode.trim().length < 1 || pay_first_name.trim().length < 1 ||  pay_phone.trim().length < 1 || pay_email.trim().length < 1 || pay_last_name.trim().length < 1 || pay_address.trim().length < 1) && getType == 'Delivery')
    {
        if(pay_first_name.trim().length < 1){
         $("#error_msg_first_name").html("Please Enter First Name").css("color", 'red');
        }else{
         $("#error_msg_first_name").html("");
        }if(pay_last_name.trim().length < 1){
         $("#error_msg_last_name").html("Please Enter Last Name").css("color", 'red');
        }else{
         $("#error_msg_last_name").html("");
        }if(pay_address.trim().length < 1 && getType == 'Delivery'){
         $("#error_msg_address").html("Please Select Address").css("color", 'red');
         $("#error_msg_add_address").html("Please Add Address").css("color", 'red');
        }else{
         $("#error_msg_address").html("");
         $("#error_msg_add_address").html("");
        }
        if(pay_zipcode.trim().length < 1){
         $("#error_msg_zipcode").html("Please Add Zip Code / Postal Code").css("color", 'red');
        }else{
         $("#error_msg_address").html("");
         $("#error_msg_zipcode").html("");
        }
        if(pay_email.trim().length < 1){
        $("#error_msg_main_email").html("Please Enter Email Address").css("color", 'red');
        }else{
        $("#error_msg_main_email").html("");
        }
        if(pay_email){
           var validateEmail=  /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
           if(!pay_email.match(validateEmail))
           {
              $("#error_msg_main_email").html("The Email Must Be A Valid Email Address").css("color", 'red');
           }
        }
        if(pay_phone.trim().length == 0){
            $("#error_msg_main_phone").html("Please Enter Phone Number").css("color", 'red');
         }else if(pay_phone.trim().length < 6){
            $("#error_msg_main_phone").html("Please Enter Minimum 6 Digit").css("color", 'red');
         }else{
            $("#error_msg_main_phone").html("");
         }
         $("#ConfirmModal").modal('hide');
        return false;
    }
    if(pay_email){
         var validateEmail=  /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
         if(!pay_email.match(validateEmail))
         {
            $("#error_msg_main_email").html("The Email Must Be A Valid Email Address").css("color", 'red');
            $("#ConfirmModal").modal('hide');
            return false;
         }
      }
    if(pay_address.trim().length < 1 && getType == 'Delivery')
    {
        $("#error_msg_address").html("Please Select Address").css("color", 'red');
        $("#ConfirmModal").modal('hide');
        return false;

    }
    else
    {
        $("#pageloader").fadeIn();
        $("#error_msg_token").html("");
        $("#error_msg_card").html("");
        $("#error_msg_expdate").html("");
        $("#error_msg_cvv2").html("");
        $("#error_msg_txn").html("");
        $("#error_msg_main_email").html("");
        $("#error_msg_number").html("");
        $("#error_msg_customer_name").html("");
        $("#card").val("");
        $("#error_msg_main_phone").html("");
        $("#cvv").val("");
        $("#exp").val("");
        $("#customer_name").val("");
        $("#number").val("");
        $("#error_msg_address").html("");
        $("#error_msg_add_address").html("");
        $("#error_msg_your_name").html("");
        $("#error_msg_zipcode").html("");
        $("#error_msg_zip_code").html("");
        $("#ConfirmModal").modal('hide');

        var restaurant_id =  document.getElementById('restaurant_id').value;
        var reststd =  document.getElementById('reststd').value;
        var restaurant_branch_id =  document.getElementById('menu_name').value;
        var guestOrUserl = "";
        var guestOrUser ='';
        if(guestOrUserl == 1){
            var guestOrUser = "https://collegeofwooster.trufflestg.com/guest_session_customer_demo";
        }else{
            var guestOrUser = "https://collegeofwooster.trufflestg.com/session_customer_demo";
        }
        $.ajax({
                type: "POST",
                url: guestOrUser,
                data:{
                    "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
                     first_name:pay_first_name,last_name:pay_last_name,amount:pay_amount,balancenew:balancenew,studentflag:studentflag,address:pay_address,zipcode:pay_zipcode,restaurant_id:restaurant_id,restaurant_branch_id:restaurant_branch_id,restrictStudent:reststd
                },
                cache: false,

                success: function(data) {
                $("#pageloader").fadeOut();

                    var obj = JSON.parse(data);
                    if (obj.status == 'success') {

                     if($("input[name='radio']:checked").val() == 'user')
                       {
                           pay_amount = pay_amount - balancenew;
                       }
                        $("#token").val(obj.result);
                        $("#merchanttxnid").val(obj.result);
                        $("#PaymentModal").modal('show');
                        $("#customer_name").val(pay_first_name);
                        $("#pay_address").val(pay_address);
                        $("#pay_final_amount").val(pay_amount);
                        $("#balancenew").val(balancenew);
                        $("#studentflag").val(studentflag);
                        $("#zip_code").val(pay_zipcode);
                        $("#lastName").val(pay_last_name);
                    }
                }
            });
    }
   });
   $("#paymentpopup").click(function(){

      $("#country_code").val('+'+$("#phonenumber").intlTelInput("getSelectedCountryData").dialCode);
      $("#country_code_name").val('+'+$("#phonenumber").intlTelInput("getSelectedCountryData").iso2);
      $("#paymenttype").val('Online');

    var pay_first_name =  document.getElementById('first_name').value;
    var pay_last_name =  document.getElementById('last_name').value;
    var pay_address =  document.getElementById('address').value;
    // var pay_amount =  document.getElementById('final_amount').value;
    var pay_email =  document.getElementById('email').value;
    var studentflag =  document.getElementById('studentflag').value;
    var balancenew =  document.getElementById('balancenew').value;
    var pay_zipcode =  document.getElementById('zipcode').value;
    var pay_amount = $(".tot_amount").html().replace("$", "");
    var pay_phone =  document.getElementById('phonenumber').value;

    $("#pickupdate").val($('#datepicker1').val());
    $("#pickuptime").val($('#timepicker1').val());
    var getType = $("#orderType").val();

    if((pay_zipcode.trim().length < 1 || pay_first_name.trim().length < 1 ||  pay_phone.trim().length < 1 || pay_email.trim().length < 1 || pay_last_name.trim().length < 1 || pay_address.trim().length < 1) && (getType == 'Delivery'))
    {
        if(pay_first_name.trim().length < 1){
         $("#error_msg_first_name").html("Please Enter First Name").css("color", 'red');
        }else{
         $("#error_msg_first_name").html("");
        }if(pay_last_name.trim().length < 1){
         $("#error_msg_last_name").html("Please Enter Last Name").css("color", 'red');
        }else{
         $("#error_msg_last_name").html("");
        }if(pay_address.trim().length < 1 && getType == 'Delivery'){
         $("#error_msg_address").html("Please Select Address").css("color", 'red');
         $("#error_msg_add_address").html("Please Add Address").css("color", 'red');
        }else{
         $("#error_msg_address").html("");
         $("#error_msg_add_address").html("");
        }
        if(pay_zipcode.trim().length < 1){
         $("#error_msg_zipcode").html("Please Add Zip Code / Postal Code").css("color", 'red');
        }else{
         $("#error_msg_address").html("");
         $("#error_msg_zipcode").html("");
        }
        if(pay_email.trim().length < 1){
        $("#error_msg_main_email").html("Please Enter Email Address").css("color", 'red');
        }else{
        $("#error_msg_main_email").html("");
        }
        if(pay_email){
           var validateEmail=  /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
           if(!pay_email.match(validateEmail))
           {
              $("#error_msg_main_email").html("The Email Must Be A Valid Email Address").css("color", 'red');
           }
        }
        if(pay_phone.trim().length == 0){
            $("#error_msg_main_phone").html("Please Enter Phone Number").css("color", 'red');
         }else if(pay_phone.trim().length < 6){
            $("#error_msg_main_phone").html("Please Enter Minimum 6 Digit").css("color", 'red');
         }else{
            $("#error_msg_main_phone").html("");
         }
         $("#ConfirmModal").modal('hide');
        return false;
    }
    if(pay_email){
         var validateEmail=  /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
         if(!pay_email.match(validateEmail))
         {
            $("#error_msg_main_email").html("The Email Must Be A Valid Email Address").css("color", 'red');
            $("#ConfirmModal").modal('hide');
            return false;
         }
      }
    if(pay_address.trim().length < 1 && getType == 'Delivery')
    {
        $("#error_msg_address").html("Please Select Address").css("color", 'red');
        $("#ConfirmModal").modal('hide');
        return false;

    }
    else
    {
        $("#pageloader").fadeIn();
        $("#error_msg_token").html("");
        $("#error_msg_card").html("");
        $("#error_msg_expdate").html("");
        $("#error_msg_cvv2").html("");
        $("#error_msg_txn").html("");
        $("#error_msg_main_email").html("");
        $("#error_msg_number").html("");
        $("#error_msg_customer_name").html("");
        $("#card").val("");
        $("#error_msg_main_phone").html("");
        $("#cvv").val("");
        $("#exp").val("");
        $("#customer_name").val("");
        $("#number").val("");
        $("#error_msg_address").html("");
        $("#error_msg_add_address").html("");
        $("#error_msg_your_name").html("");
        $("#error_msg_zipcode").html("");
        $("#error_msg_zip_code").html("");
        $("#ConfirmModal").modal('hide');

        var restaurant_id =  document.getElementById('restaurant_id').value;
        var restaurant_branch_id =  document.getElementById('menu_name').value;
        var guestOrUserl = "";
        var guestOrUser ='';
        if(guestOrUserl == 1){
            var guestOrUser = "https://collegeofwooster.trufflestg.com/guest_session_customer_demo";
        }else{
            var guestOrUser = "https://collegeofwooster.trufflestg.com/session_customer_demo";
        }
        $.ajax({
                type: "POST",
                url: guestOrUser,
                data:{
                    "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
                     first_name:pay_first_name,last_name:pay_last_name,amount:pay_amount,balancenew:balancenew,studentflag:studentflag,address:pay_address,zipcode:pay_zipcode,restaurant_id:restaurant_id,restaurant_branch_id:restaurant_branch_id
                },
                cache: false,

                success: function(data) {
                $("#pageloader").fadeOut();

                    var obj = JSON.parse(data);
                    if (obj.status == 'success') {

                     if($("input[name='radio']:checked").val() == 'user')
                       {
                           pay_amount = pay_amount - balancenew;
                       }
                        $("#token").val(obj.result);
                        $("#merchanttxnid").val(obj.result);
                        $("#PaymentModal").modal('show');
                        $("#customer_name").val(pay_first_name);
                        $("#pay_address").val(pay_address);
                        $("#pay_final_amount").val(pay_amount);
                        $("#balancenew").val(balancenew);
                        $("#studentflag").val(studentflag);
                        $("#zip_code").val(pay_zipcode);
                        $("#lastName").val(pay_last_name);
                    }
                },
                error: function(data) {                  
                   location.reload();
                }
            });
    }
   });
   $( window ).on( "load", function() {
      $('#addloyaltypoint').prop('checked', false);
      $('#add_tipamount').prop('checked', false);

    });
   $(document).ready(function() {

    $("#justOrderOnly").on("click", false);
    $('#add_tipamount').prop('checked', false);
    $('#addloyaltypoint').prop('checked', false);
    

    if(localStorage.getItem("add_tip_session") === null)
    {
    }
    else{

        $('#add_tipamount').prop('checked', true);
        var amount = localStorage.getItem("add_tip_session");

        var total_amt = $("#total_amount").val();
        var tip_amount = $("#tip_amt").val();
        var total_amtnew = parseFloat(total_amt) - parseFloat(tip_amount);
        var to_amt = parseFloat(total_amtnew) + parseFloat(amount);

        TipId.style.display = "block";
        Tiplabel.style.display = "block";
        $(".tot_amount").html("$" + Number(to_amt).toFixed(2));
        $('#TipAmount').html("$" + Number(amount).toFixed(2));
        $("#total_amount").val(to_amt);
        $("#tip_amt").val(amount);

     }

     if(localStorage.getItem("loyalty_amount_session") === null)
     {
     }
     else{

            $('#addloyaltypoint').prop('checked', true);
            var redeem_amount = localStorage.getItem("loyalty_amount_session");

            LoyaltyId.style.display = "block";
            Loyaltylabel.style.display = "block";
            var total_amt = $("#total_amount").val();
            var loyalty_amount = $("#loyalty_amount").val();
            var total_amtnew = parseFloat(total_amt) + parseFloat(loyalty_amount);
            var to_amt = parseFloat(total_amtnew) - parseFloat(redeem_amount);
            $(".tot_amount").html("$" + Number(to_amt).toFixed(2));
            $('#LoyaltyAmount').html("-$" + Number(redeem_amount).toFixed(2));
            $("#total_amount").val(to_amt);
            $("#loyalty_amount").val(redeem_amount);
      }
   });
   // $("#delete_item").click(function(){
   //     var product_id = $(this).attr("data-id");
   //     $.ajax({
   //             type: "POST",
   //             url: "https://collegeofwooster.trufflestg.com/remove-item",
   //             data: {
   //                 "product_id" : product_id,
   //                 "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
   //             },
   //             dataType: 'json',
   //             success: function(response) {
   //                // var obj = JSON.parse(response);
   //                 var obj = JSON.parse(JSON.stringify(response));
   //                 if(obj.status == 'success'){
   //                     alert(obj.msg);
   //                     location.reload();
   //                 }else{
   //                     alert(obj.msg);
   //                     //location.reload();
   //                 }
   //                 //$('#append_div_'+pid).html(response.html);
   //             }
   //         });
   // });

   // function pluschangeqty(val){

   //  var qtyid = val.id;
   //  var result = qtyid.split('_');
   //  //var qty = $(val).val();

   //     var qtycount = $("#qtyvalue_"+result[1]).text();
   //     var qty = Number(qtycount) + 1;

   //     $("#qtyvalue_"+result[1]).html(qty);
   //  var item_to = $("#item_total_"+result[1]).val();

   //  var f_item_to = $("#item_total").val();

   //  var cal_item_to = parseFloat(f_item_to) - parseFloat(item_to);
   //  var price = $("#serving_"+result[1]).val();
   //  var item_tot = parseInt(price) * qty;

   //  var final_item_total = parseFloat(cal_item_to) + parseFloat(item_tot);


   //  $("#item_total_"+result[1]).val(item_tot);
   //  $("#item_totalid_"+result[1]).html("$"+Number(item_tot).toFixed(2));
   //  $("#item_total").val(final_item_total);
   //  $("#Itme_Total").html("$"+Number(final_item_total).toFixed(2));

   //  var discount = $("#discount").val();
   //     var extra_charges = $("#extra_charges").val();
   //     var m_discount = final_item_total - discount;
   //     var m_discount_value = parseFloat(m_discount) + parseFloat(extra_charges);
   //  var tax_amount = $("#tax_amount").val();


   //  var p_tax_value = parseFloat(m_discount_value) + parseFloat(tax_amount);

   //  $(".tot_amount").html("$"+Number(p_tax_value).toFixed(2));
   //  $("#total_amount").val(p_tax_value);
   // }
   // function minuschangeqty(val){

   //  var qtyid = val.id;
   //  var result = qtyid.split('_');
   //  //var qty = $(val).val();

   //     var qtycount = $("#qtyvalue_"+result[1]).text();

   //     if(qtycount != 1){
   //          var qty = Number(qtycount) - 1;
   //       }else{
   //          var qty = Number(qtycount);
   //     }
   //     $("#qtyvalue_"+result[1]).html(qty);
   //  var item_to = $("#item_total_"+result[1]).val();
   //  var f_item_to = $("#item_total").val();
   //  var cal_item_to = parseFloat(f_item_to) - parseFloat(item_to);


   //  var price = $("#serving_"+result[1]).val();
   //  var item_tot = parseInt(price) * qty;
   //  var final_item_total = parseFloat(cal_item_to) + parseFloat(item_tot);

   //  $("#item_total_"+result[1]).val(item_tot);
   //  $("#item_totalid_"+result[1]).html("$"+item_tot);
   //  $("#item_total").val(final_item_total);
   //  $("#Itme_Total").html("$"+Number(final_item_total).toFixed(2));

   //  var discount = $("#discount").val();
   //     var extra_charges = $("#extra_charges").val();
   //  var m_discount = final_item_total - discount;
   //     var m_discount_value = parseFloat(m_discount) + parseFloat(extra_charges);


   //  var tax_amount = $("#tax_amount").val();


   //  var p_tax_value = parseFloat(m_discount_value) + parseFloat(tax_amount);

   //  $(".tot_amount").html("$"+Number(p_tax_value).toFixed(2));
   //  $("#total_amount").val(p_tax_value);
   // }

   function changeQty(val) {

    var cart_id = val.id;
    var qty = $(val).attr("data-id");
    var avaible_qty = $("#qtyvalue_" + cart_id).html();

    // if(avaible_qty == 1 && qty == -1){
    //     return false;
    // }

    $.ajax({
        type: "POST",
        url: "https://collegeofwooster.trufflestg.com/change-quantity",
        data: {
            "cart_id": cart_id,
            "qty": qty,
            "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
        },
        dataType: 'json',
        success: function(response) {
            // var obj = JSON.parse(response);
            var obj = JSON.parse(JSON.stringify(response));

            if (obj.status == 'success') {
                location.reload();
            } else {
                return false;
            }
        }
    });
   }

   function apply_promocode(promo_id) {

    //alert(promo_id)
    $.ajax({
        type: "POST",
        url: "https://collegeofwooster.trufflestg.com/verify-promocode",
        data: {
            "promocode_id": promo_id,
            "total_amount": $("#total_amount").val(),
            "promocode_amount": $("#promocode_amount").val(),
            "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
        },
        dataType: 'json',
        success: function(response) {
            // var obj = JSON.parse(response);
            var obj = JSON.parse(JSON.stringify(response));

            if (obj.status == 200) {
                var newobj = JSON.parse(JSON.stringify(obj.data));
                var discount_amount = newobj.discount_price;


                PromoCodeId.style.display = "block";
                Promolabel.style.display = "block";
                var total_amount = $("#total_amount").val();


                var promocode_amount = $("#promocode_amount").val();

                 if(newobj.promotion_type == "Percentage")
                {
                    var total_amt = parseFloat(total_amount) + parseFloat(promocode_amount);

                    var get_discounted = parseFloat(total_amount) * parseFloat(discount_amount) / 100;
                    get_discounted = Number(get_discounted).toFixed(2)
                    var to_amt = total_amt - get_discounted;

                    $("#promocode_id").val(newobj.id);
                    $("#promocode").val(newobj.coupn_code);
                    $("#promocode_amount").val(get_discounted);
                    $(".tot_amount").html("$" + Number(to_amt).toFixed(2));
                    $('#PromocodeAmount').html("-$" + Number(get_discounted).toFixed(2));
                    $("#total_amount").val(to_amt);
                }
                else{

                var total_amt = parseFloat(total_amount) + parseFloat(promocode_amount);

                var to_amt = total_amt - discount_amount;

                $("#promocode_id").val(newobj.id);
                $("#promocode").val(newobj.coupn_code);
                $("#promocode_amount").val(discount_amount);
                $(".tot_amount").html("$" + Number(to_amt).toFixed(2));
                $('#PromocodeAmount').html("-$" + Number(discount_amount).toFixed(2));
                $("#total_amount").val(to_amt);
                }
                alert(obj.message);

            } else if(obj.status == 209){
                alert(obj.message);
            } else {
                alert(obj.message);
            }
        }
    });



   }

   function apply_giftcard(giftcard_id) {

    var result = giftcard_id.split(',');
    var giftcard_id = result[0];
    var giftcard_bal = result[1];
    $("#current_balance").html("$" + Number(giftcard_bal).toFixed(2));
    $('#applygiftcardmodal').modal('show');
    $("#error_msg").html("").css("color", 'red');
    $("#giftcard_amount").val("");
    $("#giftcard_balance").val(giftcard_bal);
    $("#giftcard_id").val(giftcard_id);
   }

   $('#giftcardform').on('submit', function(e) {
    e.preventDefault();

    var custom_giftcard_amt = $("input[name='giftcard_amount']", this).val();
    var giftcard_balance = $("input[name='giftcard_balance']", this).val();
    var giftcard_id = $("input[name='giftcard_id']", this).val();
    if(custom_giftcard_amt.trim().length < 1)
    {
        $("#error_msg").html("Please Enter Amount.").css("color", 'red');
    }else{
        $("#error_msg").html("");

        if (parseFloat(custom_giftcard_amt) > parseFloat(giftcard_balance)) {
            $("#error_msg").html("Please Enter Valid Amount.").css("color", 'red');
        }
        else{
            var total_amount = $("#total_amount").val();

            if (parseFloat(custom_giftcard_amt) > parseFloat(total_amount)) {

                $("#error_msg").html("Please do not enter loyalty amount more than total amount").css("color", 'red');
            } else {
                GiftcardId.style.display = "block";
                Giftcardlabel.style.display = "block";

                var total_amt = $("#total_amount").val();
                var gift_amount = $("#giftcardamount").val();
                var total_amtnew = parseFloat(total_amt) + parseFloat(gift_amount);
                Number(1).toFixed(2);
                var to_amt = total_amtnew - custom_giftcard_amt;
                $(".tot_amount").html("$" + Number(to_amt).toFixed(2));
                $('#GiftCardAmount').html("-$" + Number(custom_giftcard_amt).toFixed(2));
                $("#total_amount").val(to_amt);
                $("#giftcardamount").val(custom_giftcard_amt);
                $("#giftcardid").val(giftcard_id);
                $(".close_btn").trigger("click");
            }
        }
    }

   });

   function applyentireamount() {
    var entire_giftcard_balance = $("#giftcard_balance").val();
    $("#giftcard_amount").val(entire_giftcard_balance);
   }

   function ShowTipPopup() {
    var isChecked = $('#add_tipamount').is(':checked');
    if (isChecked == true) {
        $('#addtipmodal').modal('show');
        var tipAmount = $("#tip_amount").val();
         var tipPercentage = $("#tip_percentage").val();
         if(tipAmount == '' || tipPercentage == ''){
            $('#add_tipamount').prop('checked', false);
         }
         else{
            $('#add_tipamount').prop('checked', false);

         }
        // cut_and_modify.value = "Yes";
    }
   }
   $('#givetip').on('click', function () {
      $('#add_tipamount').prop('checked', true);
   });
   $('#addtipmodal').on('hidden.bs.modal', function () {
      var tipAmount = $("#tip_amount").val();
      var tipPercentage = $("#tip_percentage").val();
      if(tipAmount == '' && tipPercentage == ''){
         $('#add_tipamount').prop('checked', false);
      }
   });
   $('#loyaltypointmodal').on('hidden.bs.modal', function () {
      var redeemAmount = $("#redeem_amount").val();
      if(redeemAmount == ''){
         $('#addloyaltypoint').prop('checked', false);
      }
   });
   $('#add_tipamount').change(function() {
      if ( ! this.checked) {

         var tip = $("#tip_amt").val();
         var to_amt = $("#total_amount").val();
         

        var total_amtnew = parseFloat(to_amt) - parseFloat(tip);
      
        $(".tot_amount").html("$" + Number(total_amtnew).toFixed(2));
        $("#total_amount").val(total_amtnew);
        $("#tip_amt").val('0');
        $("#tip_amount").val('');
        $("#tip_percentage").val('');
        
         Tiplabel.style.display = "none";
         TipAmount.style.display = "none";
         //location.reload();
      }
   });
   $('#addloyaltypoint').change(function() {
      if ( ! this.checked) {         
            LoyaltyId.style.display = "none";
            Loyaltylabel.style.display = "none";
            var total_amt = $("#total_amount").val();
            var loyalty_amount = $("#loyalty_amount").val();
            var total_amtnew = parseFloat(total_amt) + parseFloat(loyalty_amount);
            $(".tot_amount").html("$" + Number(total_amtnew).toFixed(2));
            $('#LoyaltyAmount').html("");
            $("#total_amount").val(total_amtnew);
            $("#loyalty_amount").val(0);
            $("#redeem_amount").val('');
            $("#error_message").text('');
            $(".close_btn").trigger("click");
      }
   });
   // $('#tip_percentage').keyup(function(){
   //    if ($(this).val() > 100){
   //       $(this).val('100');
   //    }
   // });
   $('#tip_percentage').on('keydown keyup change', function(e){
      if ($(this).val() > 100
         && e.keyCode !== 46 // keycode for delete
         && e.keyCode !== 8 // keycode for backspace
         ) {
         e.preventDefault();
         $(this).val(100);
      }
   });
   $('#tip_amount').on('keydown keyup change', function(e){
      if ($(this).val() > 1000
         && e.keyCode !== 46 // keycode for delete
         && e.keyCode !== 8 // keycode for backspace
         ) {
         e.preventDefault();
         $(this).val(1000);
      }
   });
   function checkRadioAmount() {
    var isChecked = $('#AmtradioButton').is(':checked');
    if (isChecked == true) {
        $("#tip_percentage").val('');
        TipPercentage.style.display = "none";
        TipAmt.style.display = "block";
    }
   }

   function checkRadioPercentage() {
    var isChecked = $('#PerradioButton').is(':checked');
    if (isChecked == true) {
        $("#tip_amount").val('');
        TipAmt.style.display = "none";
        TipPercentage.style.display = "block";


    }
   }
   $('#addtipform').on('submit', function(e) {
    e.preventDefault();

    var amount = $("input[name='tip_amount']", this).val();
    var percentage = $("input[name='tip_percentage']", this).val();

    if (amount != '') {


        var total_amt = $("#total_amount").val();

        var tip_amount = $("#tip_amt").val();
        var total_amtnew = parseFloat(total_amt) - parseFloat(tip_amount);
        var to_amt = parseFloat(total_amtnew) + parseFloat(amount);

        TipId.style.display = "block";
        Tiplabel.style.display = "block";
        TipAmount.style.display = "block";
        if(total_amtnew < 0){
         alert('To add tip amount please do not enter loyalty amount more than total amount');
        }else{

           $(".tot_amount").html("$" + Number(to_amt).toFixed(2));
           $('#TipAmount').html("$" + Number(amount).toFixed(2));
           $("#total_amount").val(to_amt);
           $("#total_amount").val(to_amt);
           $("#final_item_total").val(to_amt);
           $("#tip_amt").val(amount);
           $(".close_btn").trigger("click");
        }
        // localStorage.setItem("add_tip_session", amount);
    } else if (percentage != '') {
        var total_amt = $("#total_amount").val();
        var tip_amount = $("#tip_amt").val();
        var total_amtnew = parseFloat(total_amt) - parseFloat(tip_amount);
        var per_amount = parseFloat(total_amtnew) * parseFloat(percentage) / 100;
        per_amount = per_amount.toFixed(2);
        var to_amt = parseFloat(total_amtnew) + parseFloat(per_amount);
        TipId.style.display = "block";
        Tiplabel.style.display = "block";
        TipAmount.style.display = "block";
        if(total_amtnew < 0){
         alert('To add tip amount please do not enter loyalty amount more than total amount');
        }else{
           $(".tot_amount").html("$" + Number(to_amt).toFixed(2));
           $('#TipAmount').html("$" + Number(per_amount).toFixed(2));
           $("#total_amount").val(to_amt);
           $("#total_amount").val(to_amt);
           $("#final_item_total").val(to_amt);
           $("#tip_amt").val(per_amount);
           $(".close_btn").trigger("click");
        }
        // localStorage.setItem("add_tip_session", per_amount);
    } else {
        alert("Please enter amount");
    }
   });

   function ShowLoyaltyPopup() {
    var isChecked = $('#addloyaltypoint').is(':checked');
    if (isChecked == true) {
        get_loyalty_data();
        $('#loyaltypointmodal').modal('show');
        // cut_and_modify.value = "Yes";
    }
   }

   $('#loyaltypointform').on('submit', function(e) {
    e.preventDefault();

    var redeem_amount = $("input[name='redeem_amount']", this).val();
    var redeem_balance = $("input[name='redeem_balance']", this).val();

    if (parseFloat(redeem_amount) > parseFloat(redeem_balance)) {
        $("#error_message").html("Please Enter Valid Amount.").css("color", 'red');
    } else {

        var total_amount = $("#total_amount").val();
        if (parseFloat(redeem_amount) > parseFloat(total_amount)) {
            $("#error_message").html("Please do not enter loyalty amount more than total amount").css("color", 'red');
        } else if (redeem_amount != ''){
            LoyaltyId.style.display = "block";
            Loyaltylabel.style.display = "block";
           // LoyaltyAmount.style.display = "block";

            var total_amt = $("#total_amount").val();
            var loyalty_amount = $("#loyalty_amount").val();
            var total_amtnew = parseFloat(total_amt) + parseFloat(loyalty_amount);
            var to_amt = parseFloat(total_amtnew) - parseFloat(redeem_amount);
            $(".tot_amount").html("$" + Number(to_amt).toFixed(2));
            $('#LoyaltyAmount').html("-$" + Number(redeem_amount).toFixed(2));
            $("#total_amount").val(to_amt);
            $("#loyalty_amount").val(redeem_amount);
            $(".close_btn").trigger("click");
            // localStorage.setItem("loyalty_amount_session", redeem_amount);
        }else{
            alert("Please enter amount");
        }
        // $("#giftcardid").val(giftcard_id);
    }
   });

   function removeItem(cart_id) {

    $("#conformation-modal").modal('show');
    $('#yes').on('click', function(event) {
        $.ajax({
            type: "POST",
            url: "https://collegeofwooster.trufflestg.com/remove-card-item",
            data: {
                "id": cart_id,
                "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
            },
            dataType: 'json',
            success: function(response) {

                var obj = JSON.parse(JSON.stringify(response));

                if (obj.status == 'success') {
                    localStorage.removeItem('add_tip_session');
                    localStorage.removeItem('loyalty_amount_session');

                    location.reload();
                } else {
                    location.reload();
                }
            }
        });
    });
    return false;
   }

   $('#placeOrderForm').on('submit', function(e) {
    e.preventDefault();
      // alert("dd");
    var parent_fieldset = $(this).parents('fieldset');
    $('.help-block').html('');
    $('.kt-form__help').html('');


    $.ajax({
        type: "POST",
        url: "https://collegeofwooster.trufflestg.com/place-order",
        data: $('form#placeOrderForm').serialize(),
        cache: false,

        success: function(data) {
         
            // $("#KitchenPrinter").modal('hide');
            // $("#kitchen_print_form").trigger("reset");
            var obj = JSON.parse(data);
            if (obj.status == 'success' || obj.status == 200) {
                alert("Order Placed successfully...!");
                //location.reload();
            }else{
                alert("Order not placed successfully..!");
                //location.reload();
            }
        },
        // error: function(data) {

        //     if (data.status === 422) {
        //         $(".kitchen_print").show();
        //         var errors_ = data.responseJSON;
        //         $.each(errors_.errors, function(key, value) {
        //             $('.' + key).html(value);
        //         });
        //     }
        // }
    });

    return false;

   });

   function removeModifier(modifier_id) {

    $("#modifier-delete-modal").modal('show');
    $('#yesdelete').on('click', function(event) {
        $.ajax({
            type: "POST",
            url: "https://collegeofwooster.trufflestg.com/remove-card-modifier",
            data: {
                "modifier_id": modifier_id,
                "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
            },
            dataType: 'json',
            success: function(response) {

                var obj = JSON.parse(JSON.stringify(response));

                if (obj.status == 'success') {
                    location.reload();
                } else {
                    location.reload();
                }
            }
        });
    });
    return false;
   }
   // $(document).ready(function() {
   //    pick_up = $('#selectTypeP').val();
   //    if(pick_up == "Take Away")
   //    {
   //       $("#address").attr('disabled','disabled');
   //        $("#address").css({cursor:"not-allowed"});
          

   //        $("#zipcode").attr('disabled','disabled');
   //        $("#zipcode").css({cursor:"not-allowed"});


   //        $("#guest_address").attr('disabled','disabled');
   //        $("#guest_address").css({cursor:"not-allowed"});
   //        $("#address").val('');
   //        $("#select-address").attr('disabled','disabled');
   //        $("#select-address").css({cursor:"not-allowed"});
   //        $("#add-address").attr('disabled','disabled');
   //        $("#add-address").css({cursor:"not-allowed"});
          
   //         //Delivery_chargeId.style.display = "none";
   //        $(".Delivery_chargeId").css('display','none');
   //        $(".paynowhidefour").css('display','none');

   //       //  var to_amt = $("#total_amount").val();
   //        var to_amt = $(".tot_amount").html().replace("$", "");
   //        var delivery_amt = $("#delivery_cost").val();
   //        var total_newamt = parseFloat(to_amt.replace(",","")) - parseFloat(delivery_amt);
   //        $(".tot_amount").html("$" + Number(total_newamt).toFixed(2));
   //        $("#total_amt").val(total_newamt);
   //        $("#total_amount").val(total_newamt);
   //        $("#final_item_total").val(total_newamt);
   //    }
   // });

   $('#selectTypeD, #selectTypeP').on('click', function() {
      
      $("#error_msg_address").html("");
      var select = this.value;
      $("#orderType").val(select);
      if(select == "Take Away" || select == "Dine In"){
         if($("#selectTypeP").hasClass("active") == false){

         $('#hide_pick_up').hide();
         $('#hide_delivery').hide();
         $('#hide_save').hide();
         $('#hide_address').hide();


          $("#address").attr('disabled','disabled');
          $("#address").css({cursor:"not-allowed"});
          

          $("#zipcode").attr('disabled','disabled');
          $("#zipcode").css({cursor:"not-allowed"});


          $("#guest_address").attr('disabled','disabled');
          $("#guest_address").css({cursor:"not-allowed"});
          $("#address").val('');
          $("#select-address").attr('disabled','disabled');
          $("#select-address").css({cursor:"not-allowed"});
          $("#add-address").attr('disabled','disabled');
          $("#add-address").css({cursor:"not-allowed"});
          
           //Delivery_chargeId.style.display = "none";
          $(".Delivery_chargeId").css('display','none');
          $(".paynowhidefour").css('display','none');

         //  var to_amt = $("#total_amount").val();
          var to_amt = $(".tot_amount").html().replace("$", "");
          var delivery_amt = $("#delivery_cost").val();
          var total_newamt = parseFloat(to_amt.replace(",","")) - parseFloat(delivery_amt);
          $(".tot_amount").html("$" + Number(total_newamt).toFixed(2));
          $("#total_amt").val(total_newamt);
          $("#total_amount").val(total_newamt);
          $("#final_item_total").val(total_newamt);
         }
      }else{
         if($("#selectTypeD").hasClass("active") == false){
         $('#hide_pick_up').show();
         $('#hide_delivery').show();
         $('#hide_save').show();
         $('#hide_address').show();

         $(".paynowhidefour").css('display','block');
          $("#address").removeAttr('disabled');
          $("#address").css({cursor:"text"});
          $("#zipcode").removeAttr('disabled');
          $("#zipcode").css({cursor:"text"});
          $("#guest_address").removeAttr('disabled');
          $("#guest_address").css({cursor:"text"});
          $("#select-address").removeAttr('disabled');
          $("#select-address").css({cursor:"pointer"});
          $("#add-address").removeAttr('disabled');
          $("#add-address").css({cursor:"pointer"});
          $(".Delivery_chargeId").css('display','block');
          
          var to_amt = $("#total_amount").val();
          var delivery_amt = $("#delivery_cost").val();
          var total_newamt = parseFloat(to_amt.replace(",","")) + parseFloat(delivery_amt);
          $(".tot_amount").html("$" + Number(total_newamt).toFixed(2));
          $("#total_amt").val(total_newamt);
         }
      }
   });

   function passIdForNote(cart_id,typenotes) {
    $("#addnotemodal").modal("show");
    $('#get_cart_id').val(cart_id);
    $('#note_msg').html('');
    $('#typenotes').val(typenotes);
   }

   addNotes = function(){
    var typeNotes = $('#typenotes').val();
    if(typeNotes.trim().length < 1)
    {
        $('#note_msg').html('Please Enter Note');
    }else{
        var getCartId = $('#get_cart_id').val();
        var isGuest = "";
        if(isGuest == 1){
            var addTypeNote = "https://collegeofwooster.trufflestg.com/guest-add-type-note";
        }else{
            var addTypeNote = "https://collegeofwooster.trufflestg.com/add-type-note";
        }
        $('#note_msg').html('');
        $("#addnotemodal").modal("hide");
        $.ajax({
            type: "POST",
            url: addTypeNote,
            data: {
                "cart_id": getCartId,
                "note": typeNotes,
                "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
            },
            dataType: 'json',
            success: function(response) {
                var obj = JSON.parse(JSON.stringify(response));
                if (obj.status == 'success') {
                    location.reload();
                } else {
                    location.reload();
                }
            }
        });
    }
   }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCz7Bo_xQIywAxLvk5BRR5xz70VY2VhLPk&callback=initAutocomplete&libraries=places&v=weekly" async></script>
<link rel="stylesheet" href="https://collegeofwooster.trufflestg.com/css/bootstrap-timepicker.min.css" integrity="sha512-/Ae8qSd9X8ajHk6Zty0m8yfnKJPlelk42HTJjOHDWs1Tjr41RfsSkceZ/8yyJGLkxALGMIYd5L2oGemy/x1PLg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://collegeofwooster.trufflestg.com/js/bootstrap-timepicker.min.js" integrity="sha512-2xXe2z/uA+2SyT/sTSt9Uq4jDKsT0lV4evd3eoE/oxKih8DSAsOF6LUb+ncafMJPAimWAXdu9W+yMXGrCVOzQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script type="text/javascript">
   $('#timepicker1').timepicker({
       sideBySide: true,
       showMeridian:false,
       minuteStep: 1,
       minTime: 0,
       icons: {
           up: "la la-angle-up  ",
           down: "la la-angle-down  "

       }
   });

   $(document).ready(function(){
       $('.demo-date').dateDropper({
           large: true,
           lock: 'from',
       });
   });





   function formatString(e) {
     var inputChar = String.fromCharCode(event.keyCode);
     var code = event.keyCode;
     var allowedKeys = [8];
     if (allowedKeys.indexOf(code) !== -1) {
       return;
     }
     event.target.value = event.target.value.replace(
       /^([1-9]\/|[2-9])$/g, '0$1/' // 3 > 03/
     ).replace(
       /^(0[1-9]|1[0-2])$/g, '$1/' // 11 > 11/
     ).replace(
       /^([0-1])([3-9])$/g, '0$1/$2' // 13 > 01/3
     ).replace(
       /^(0?[1-9]|1[0-2])([0-9]{2})$/g, '$1/$2' // 141 > 01/41
     ).replace(
       /^([0]+)\/|[0]+$/g, '0' // 0/ > 0 and 00 > 0
     ).replace(
       /[^\d\/]|^[\/]*$/g, '' // To allow only digits and `/`
     ).replace(
       /\/\//g, '/' // Prevent entering more than 1 `/`
     );
   }





   // var e = document.getElementById("selectordertype");

  /* var strUserS = $('#selectTypeD').val();
    console.log(strUserS);
   if(strUserS == "Delivery"){
      //alert(strUserS);
      strUserS = 'Delivery';
   }
   $('#box-text').html("Set Delivery Date And Time");*/

   var strUser = $('#selectTypeP').val();
   if(strUser == "Take Away"){
      strUser = 'Pickup';
      $('#box-text').html("Set "+strUser+" Date And Time");
   }
   else{

      $('#box-text').html("Set Delivery Date And Time");

   }
  

   $('#selectTypeD').on('click', function() {
      var strUser = this.value;
      $("#selectTypeP").removeClass("active");
      $("#selectTypeD").addClass("active");
      if(strUser == "Take Away"){
         strUser = 'Pickup';
      }
      $('#box-text').html("Set "+strUser+" Date And Time");
   });
   $('#selectTypeP').on('click', function() {
      var strUser = this.value;
      $("#selectTypeD").removeClass("active");
      $("#selectTypeP").addClass("active");
      if(strUser == "Take Away"){
         strUser = 'Pickup';
      }
      $('#box-text').html("Set "+strUser+" Date And Time");
   });
   // $("[name='selectTypeOrder']").val()


   // $('#selectordertype').change(function(){
   //     var e = document.getElementById("selectordertype");
   // var strUser = e.options[e.selectedIndex].text;
   // $('#box-text').html("Set "+strUser+" Date And Time");

   // })


   var MyDate = new Date();
   MyDateString = ('0' + (MyDate.getMonth()+1)).slice(-2) + '/' + ('0' + MyDate.getDate()).slice(-2) + '/' + MyDate.getFullYear();
   $('.demo-date').val($("#curntDateN").val());
   $("#cart_date").html($("#curntDateN").val());

   //start::code for addres search
   // function initAutocomplete() {
   //    const inputAddress = document.getElementById("address");
   //    const searchBox = new google.maps.places.SearchBox(inputAddress);
   // }
   let autocomplete;
   let address1Field;
   let address2Field;
   let postalField;

   function initAutocomplete() {
     address1Field = document.querySelector("#address");
     postalField = document.querySelector("#zipcode");
     autocomplete = new google.maps.places.Autocomplete(address1Field, {
       fields: ["address_components", "geometry"],
       types: ["address"],
     });
     autocomplete.addListener("place_changed", fillInAddress);
   }
   function fillInAddress() {
     // Get the place details from the autocomplete object.
     const place = autocomplete.getPlace();
     let address1 = "";
     let postcode = "";
     for (const component of place.address_components) {
       const componentType = component.types[0];
       switch (componentType) {
         case "street_number": {
           address1 = `${component.long_name} ${address1}`;
           break;
         }
         case "route": {
           address1 += component.long_name;
           break;
         }
         case "postal_code": {
           postcode = `${component.long_name}${postcode}`;
           break;
         }
         // case "postal_code_suffix": {
         //   postcode = `${postcode}-${component.long_name}`;
         //   break;
         // }
         case "locality": {
           document.querySelector("#city").value = component.long_name;
           break;
         }
         case "administrative_area_level_1": {
           document.querySelector("#state").value = component.long_name;
           break;
         }
       }
     }
     address1Field.value = address1;
     postalField.value = postcode;
   }
   //end::code for addres search

   $('#datepicker1').on('change', function() {

      $("#cart_date").html(this.value);
   });
   $("#cart_time").html($('#timepicker1').val());
   $('#timepicker1').on('change', function() {
      $("#cart_time").html(this.value);
   });

    $('#add-address').click(function(){
      $("#error_msg_add_address").html("");
      var address = document.getElementById('address').value;
      if(address.trim() == '' || address == null){
         $("#error_msg_add_address").html("Please Add Address").css("color", 'red');
      }else{
         $.ajax({
            type: "POST",
            url: "https://collegeofwooster.trufflestg.com/add-cart-address?subdomain=subdomain",
            data: {
                "address": address,
                "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
            },
            dataType: 'json',
            cache: false,

            success: function(data) {
               if (data == 'success') {
                    $("#error_msg_add_address").html("Address Saved!").css("color", 'green');
                    setTimeout(function() {
                    },2000);
                     location.reload();

                }else if (data == 'fail-set-address') {
                    $("#error_msg_number").html("Can't Save The Address").css("color", 'red')
                    setTimeout(function() {
                    },2000);
                     location.reload();
                }
            }
        });
      }
   });

   $("#guestpaymentpopup").click(function(){
      $("#country_code").val('+'+$("#phonenumber").intlTelInput("getSelectedCountryData").dialCode);
      $("#country_code_name").val('+'+$("#phonenumber").intlTelInput("getSelectedCountryData").iso2);
      $("#trns_guest").val('false');
      $(".hide-card-info").css("display", "block");
      $("#paymenttype").val('Online');

      var pay_first_name =  document.getElementById('first_name').value;
      var pay_last_name =  document.getElementById('last_name').value;
      var pay_email =  document.getElementById('email').value;
      var pay_phone =  document.getElementById('phonenumber').value;
      var pay_address =  document.getElementById('address').value;
      var pay_amount =  document.getElementById('final_amount').value;
      var pay_zipcode =  document.getElementById('zipcode').value;
      var tot_v_amount = $(".tot_amount").html().replace("$", "");

      $("#pickupdate").val($('#datepicker1').val());
      $("#pickuptime").val($('#timepicker1').val());

      var getType = $("#orderType").val();
      var guestDataDn = false;

      if((pay_zipcode.trim().length < 1 || pay_email.trim().length < 1 ||  pay_phone.trim().length < 1 || pay_first_name.trim().length < 1 || pay_last_name.trim().length < 1 || pay_address.trim().length < 1) && getType == 'Delivery')
      {
        if(pay_first_name.trim().length < 1){
         $("#error_msg_first_name").html("Please Enter First Name").css("color", 'red');
        }else{
         $("#error_msg_first_name").html("");
        }if(pay_last_name.trim().length < 1){
         $("#error_msg_last_name").html("Please Enter Last Name").css("color", 'red');
        }else{
         $("#error_msg_last_name").html("");
        }if(pay_address.trim().length < 1 && getType == 'Delivery'){
         $("#error_msg_address").html("Please Select Address").css("color", 'red');
         $("#error_msg_add_address").html("Please Add Address").css("color", 'red');
        }else{
         $("#error_msg_address").html("");
         $("#error_msg_add_address").html("");
        }
        if(pay_zipcode.trim().length < 1){
         $("#error_msg_zipcode").html("Please Add Zip Code / Postal Code").css("color", 'red');
        }else{
         $("#error_msg_zipcode").html("");
        }
        if(pay_email.trim().length < 1){
         $("#error_msg_main_email").html("Please Enter Email Address").css("color", 'red');
        }else{
         $("#error_msg_main_email").html("");
        }
        if(pay_email){
            var validateEmail=  /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            if(!pay_email.match(validateEmail))
            {
               $("#error_msg_main_email").html("The Email Must Be A Valid Email Address").css("color", 'red');
            }
        }
        if(pay_phone.trim().length < 1){
         $("#error_msg_main_phone").html("Please Enter Phone Number").css("color", 'red');
        }else{
         $("#error_msg_main_phone").html("");
      }
         $("#ConfirmModal").modal('hide');
      }else{
        guestDataDn = true;
         $("#guest_email").val(pay_email);
         $("#ConfirmModal").modal('hide');

         $("#error_msg_first_name").html("");
         $("#error_msg_last_name").html("");
         $("#error_msg_address").html("");
         $("#error_msg_add_address").html("");
         $("#error_msg_zipcode").html("");
         $("#error_msg_main_email").html("");
         $("#error_msg_main_phone").html("");
      }
      if(pay_email){
         var validateEmail=  /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
         if(!pay_email.match(validateEmail))
         {
            $("#error_msg_main_email").html("The Email Must Be A Valid Email Address").css("color", 'red');
            $("#ConfirmModal").modal('hide');
            return false;
         }
      }

      var restaurant_id =  document.getElementById('restaurant_id').value;
      var restaurant_branch_id =  document.getElementById('menu_name').value;
      if(guestDataDn){
         $("#pageloader").fadeIn();
         $.ajax({
             type: "POST",
             url: "https://collegeofwooster.trufflestg.com/guest_session_customer_demo",
             data:{
                 "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
                  first_name:pay_first_name,last_name:pay_last_name,amount:pay_amount,address:pay_address,zipcode:pay_zipcode,restaurant_id:restaurant_id,restaurant_branch_id:restaurant_branch_id
             },
             cache: false,

             success: function(data) {
             $("#pageloader").fadeOut();

                 var obj = JSON.parse(data);
                 if (obj.status == 'success') {
                     $("#token").val(obj.result);
                     $("#merchanttxnid").val(obj.result);
                     $("#GuestPaymentModal").modal('show');
                     $("#guest_fname").val(pay_first_name);
                     $("#guest_lname").val(pay_last_name);
                     $("#guest_pay_address").val(pay_address);
                     $("#pay_guest_final_amount").val(tot_v_amount);
                     $("#guest_zip_code").val(pay_zipcode);
                     $("#guest_phone_number").val(pay_phone);
                 }
             }
         });
      }
   });

   $("#guestpaylaterconfirmation").click(function(){
      var new_first_name = document.getElementById('first_name').value;
      var new_last_name = document.getElementById('last_name').value;
      var new_address = document.getElementById('address').value;
      var new_email = document.getElementById('email').value;
      var new_phonenumber = document.getElementById('phonenumber').value;
      $("[name='guest_fname']").val(new_first_name);
      $("[name='guest_lname']").val(new_last_name);
      $("[name='guest_address']").val(new_address);
      $("[name='guest_email']").val(new_email);
      $("[name='guest_phone_number']").val(new_phonenumber);

      $("#country_code").val('+'+$("#phonenumber").intlTelInput("getSelectedCountryData").dialCode);
      $("#country_code_name").val('+'+$("#phonenumber").intlTelInput("getSelectedCountryData").iso2);
      $("#trns_guest").val('true');
      $("#paymenttype").val('');
      var pay_first_name =  document.getElementById('first_name').value;
      var pay_last_name =  document.getElementById('last_name').value;
      var pay_email =  document.getElementById('email').value;
      var pay_phone =  document.getElementById('phonenumber').value;
      var pay_address =  document.getElementById('address').value;
      var pay_amount =  document.getElementById('final_amount').value;
      var pay_zipcode =  document.getElementById('zipcode').value;
      var tot_v_amount = $(".tot_amount").html().replace("$", "");

      $("#pickupdate").val($('#datepicker1').val());
      $("#pickuptime").val($('#timepicker1').val());

      var getType = $("#orderType").val();
      var guestDataDn = false;

      if((pay_zipcode.trim().length < 1 ||  pay_phone.trim().length < 1 || pay_first_name.trim().length < 1 || pay_last_name.trim().length < 1 || pay_address.trim().length < 1) && getType == 'Delivery')
      {
        if(pay_first_name.trim().length < 1){
         $("#error_msg_first_name").html("Please Enter First Name").css("color", 'red');
        }else{
         $("#error_msg_first_name").html("");
        }if(pay_last_name.trim().length < 1){
         $("#error_msg_last_name").html("Please Enter Last Name").css("color", 'red');
        }else{
         $("#error_msg_last_name").html("");
        }if(pay_address.trim().length < 1 && getType == 'Delivery'){
         $("#error_msg_address").html("Please Select Address").css("color", 'red');
         $("#error_msg_add_address").html("Please Add Address").css("color", 'red');
        }else{
         $("#error_msg_address").html("");
         $("#error_msg_add_address").html("");
        }
        if(pay_zipcode.trim().length < 1){
         $("#error_msg_zipcode").html("Please Add Zip Code / Postal Code").css("color", 'red');
        }else{
         $("#error_msg_zipcode").html("");
        }
      //   if(pay_email.trim().length < 1){
      //    $("#error_msg_main_email").html("Please Enter Email Address").css("color", 'red');
      //   }else{
      //    $("#error_msg_main_email").html("");
      //   }
      //   if(pay_email){
      //       var validateEmail=  /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
      //       if(!pay_email.match(validateEmail))
      //       {
      //          $("#error_msg_main_email").html("The Email Must Be A Valid Email Address").css("color", 'red');
      //       }
      //   }
        if(pay_phone.trim().length < 1){
         $("#error_msg_main_phone").html("Please Enter Phone Number").css("color", 'red');
        }else{
         $("#error_msg_main_phone").html("");
         }
         $("#ConfirmModal").modal('hide');
      }else{
        guestDataDn = true;
         $("#guest_email").val(pay_email);
         $("#ConfirmModal").modal('hide');

         $("#error_msg_first_name").html("");
         $("#error_msg_last_name").html("");
         $("#error_msg_address").html("");
         $("#error_msg_add_address").html("");
         $("#error_msg_zipcode").html("");
         $("#error_msg_main_email").html("");
         $("#error_msg_main_phone").html("");
      }
      // if(pay_email){
      //    var validateEmail=  /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
      //    if(!pay_email.match(validateEmail))
      //    {
      //       $("#error_msg_main_email").html("The Email Must Be A Valid Email Address").css("color", 'red');
      //       $("#ConfirmModal").modal('hide');
      //       return false;
      //    }
      // }

      var restaurant_id =  document.getElementById('restaurant_id').value;
      var restaurant_branch_id =  document.getElementById('menu_name').value;
      if(guestDataDn){
         $("#GuestPaymentModal").modal('show');
         $("#guest_fname").val(pay_first_name);
         $("#guest_lname").val(pay_last_name);
         $("#guest_pay_address").val(pay_address);
         $("#pay_guest_final_amount").val(tot_v_amount);
         $("#guest_zip_code").val(pay_zipcode);
         $("#guest_phone_number").val(pay_phone);
         $(".hide-card-info").css("display", "none");
      }
   });

   // $("#justOrderOnly").click(function()
   // {
   //    if($(this).is(":checked")) {
   //      $("#showGuestDetails").show(300);
   //    } else {
   //      $("#showGuestDetails").hide(200);
   //    }
   // });
   $("#createAccountGuest").click(function()
   {
      if($(this).is(":checked")) {
        $("#showGuestReg").show(300);
      } else {
        $("#showGuestReg").hide(200);
      }
   });

   $('#guestFormSubmits').click( function() {
      $(".password").html("");
      $(".confirm_password").html("");
      $(".remember").html("");
        var guestMainDetails = false;
        var guestCreateAccount = false;
        var trnsGuest = $("#trns_guest").val();

      // order only js
      if($("#justOrderOnly").is(":checked")) {
          var guest_fname = document.getElementById('guest_fname').value;
          var guest_lname = document.getElementById('guest_lname').value;
          // var customer_name = document.getElementById('customer_name').value;
          if(trnsGuest == 'false'){
             var guest_card = document.getElementById('guest_card').value;
             var guest_exp = document.getElementById('guest_exp').value;
             var guest_cvv = document.getElementById('guest_cvv').value;
          }

          var guest_pay_address = document.getElementById('guest_pay_address').value;
          var guest_zip_code = document.getElementById('guest_zip_code').value;
          var guest_phone_number = document.getElementById('guest_phone_number').value;

         var token = document.getElementById('token').value;
         // var card = document.getElementById('card').value;
         var gettoken = document.getElementById('gettoken').value;
         var addtoken = document.getElementById('addtoken').value;
         var merchanttxnid = document.getElementById('merchanttxnid').value;
         var address = document.getElementById('address').value;
         var pickupdate =  $('#datepicker1').val();
         var pickuptime =  $('#timepicker1').val();
         $("#error_msg_guest_fname").html("");
         $("#error_msg_guest_lname").html("");
         $("#error_msg_guest_card").html("");
         $("#error_msg_guest_exp_date").html("");
         $("#error_msg_guest_cvv").html("");
         $("#error_msg_guest_pay_address").html("");
         $("#error_msg_guest_zip_code").html("");
         $("#error_msg_guest_phone_number").html("");

         if(guest_pay_address == '' || guest_pay_address == null){
            guest_pay_address = $('#restaurantAddress').val();
         }
         if(trnsGuest == 'false'){
            if(guest_fname != "" && guest_lname != "" && guest_card != "" && guest_exp != "" && guest_cvv != "" && guest_pay_address != "" && guest_zip_code != "" && guest_phone_number != ""){
               guestMainDetails = true;
            }else{
               if(guest_fname == ""){
                     $("#error_msg_guest_fname").html("Please Enter First Name").css("color", 'red');
               }
               if(guest_lname == ""){
                     $("#error_msg_guest_lname").html("Please Enter Last Name").css("color", 'red');
               }
               if(guest_card == ""){
                     $("#error_msg_guest_card").html("Please Enter Card Number").css("color", 'red');
               }
               // if(customer_name == ""){
               //     $("#error_error_msg_guest_fnamemsg_token").html("Please Enter First Name").css("color", 'red');
               // }
               if(guest_exp == ""){
                     $("#error_msg_guest_exp_date").html("Please Enter Expiry Date").css("color", 'red');
               }
               if(guest_cvv == ""){
                     $("#error_msg_guest_cvv").html("Please Enter CVV2").css("color", 'red');
               }
               if(guest_zip_code == ""){
                     $("#error_msg_guest_zip_code").html("Please Enter Zip Code / Postal Code").css("color", 'red');
               }
               if(guest_phone_number == ""){
                     $("#error_msg_guest_phone_number").html("Please Enter Phone Number").css("color", 'red');
               }
               if(guest_pay_address == ""){
                     $("#error_msg_guest_pay_address").html("Please Enter Address").css("color", 'red');
               }
            }
         }
         if(trnsGuest == 'true'){
            if(guest_fname != "" && guest_lname != "" && guest_pay_address != "" && guest_zip_code != "" && guest_phone_number != ""){
               guestMainDetails = true;
            }else{
               if(guest_fname == ""){
                     $("#error_msg_guest_fname").html("Please Enter First Name").css("color", 'red');
               }
               if(guest_lname == ""){
                     $("#error_msg_guest_lname").html("Please Enter Last Name").css("color", 'red');
               }
               if(guest_zip_code == ""){
                     $("#error_msg_guest_zip_code").html("Please Enter Zip Code / Postal Code").css("color", 'red');
               }
               if(guest_phone_number == ""){
                     $("#error_msg_guest_phone_number").html("Please Enter Phone Number").css("color", 'red');
               }
               if(guest_pay_address == ""){
                     $("#error_msg_guest_pay_address").html("Please Enter Address").css("color", 'red');
               }
            }
         }
      }

      // Create account js
      if($("#createAccountGuest").is(":checked")) {

         var password = document.getElementById('password').value;
         var confirm_password = document.getElementById('confirm_password').value;
         var cagFlag = 0;

         if(confirm_password != password){
            $(".confirm_password").html("The Confirm Password And Password Must Match").css("color", 'red');
            cagFlag = 1;
         }
         if($("#signup-remember").is(":checked")) {
            $(".signup-remember").html("");
         }else{
            $(".signup-remember").html("Please Check This Box if you Want to Proceed").css("color", 'red');
            cagFlag = 1;
         }
         if(password != "" && confirm_password != ""){
            var passw=  /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;
            if(!password.match(passw))
            {
               $(".password").html("The Password must be at least 8 Characters.Password must Including UPPER/Lowercase, One Special Characters and Numbers").css("color", 'red');
               cagFlag = 1;
            }
         }else{
           if(password  == ""){
               $(".password").html("Please Enter Password").css("color", 'red');
               cagFlag = 1;
           }
           if(confirm_password  == ""){
               $(".confirm_password").html("Please Enter Confirm Password").css("color", 'red');
               cagFlag = 1;
           }
         }
      }
      if(cagFlag){
         $("#createguestaccount").val("");
         guestCreateAccount = false;
         return false;
      }else{
         if($("#createAccountGuest").is(":checked")){
            guestCreateAccount = true;
            $("#createguestaccount").val('guestCreateAccount');
         }else{
            $("#createguestaccount").val('');

         }
      }
      //guest registration code goes here
      if($("#trns_guest").val() == 'false'){
      if(guestMainDetails){
      $("#pageloader").fadeIn();
         var paymentData = {
                ssl_txn_auth_token: token,
                ssl_card_number: guest_card,
                ssl_exp_date: guest_exp,
                ssl_get_token: gettoken,
                ssl_add_token: addtoken,
                ssl_first_name: guest_fname,
                ssl_last_name: guest_lname,
                ssl_cvv2cvc2: guest_cvv,
                ssl_merchant_txn_id: merchanttxnid,
                ssl_avs_address: address,
                ssl_avs_zip: guest_zip_code,
                ssl_pickuptime: pickuptime,
                ssl_customer_name: guest_fname
            };
            var callback = {
                onError: function (error) {
                    showResult("error", error);
                },
                onDeclined: function (response) {
                    console.log("Result Message=" + response['ssl_result_message']);
                    showResult("declined", JSON.stringify(response));
                },
                onApproval: function (response) {
                    console.log("Approval Code=" + response['ssl_approval_code']);
                    showResult("approval", JSON.stringify(response));

                }
            };
            ConvergeEmbeddedPayment.pay(paymentData, callback);

      }
      }
      if($("#trns_guest").val() == 'true'){
      if(guestMainDetails){
            // myplaceorder();
         }
      }
   });

    const togglePassword = document.querySelector('.toggle-password');
    const password = document.querySelector('#password');

    togglePassword.addEventListener('click', function (e) {
        // toggle the type attribute
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);
        // toggle the eye slash icon
        $(this).toggleClass("la-eye la-eye-slash");
    });

    $('#confirm_password').bind("cut copy paste",function(e) {
        e.preventDefault();
    });


    $(document).on('click','#toggle-password12', function() {

        $(this).toggleClass("la-eye la-eye-slash");

        var input = $("#confirm_password");
        input.attr('type') === 'password' ? input.attr('type','text') : input.attr('type','password')
    });

    $('#zipcode,#guest_zip_code,#zip_code').keypress(function (e) {
      var regex = new RegExp("^[a-zA-Z0-9]+$");
      var str = String.fromCharCode(!e.charCode ? e.which : e.charCode);
      if (regex.test(str)) {
         return true;
      }
      e.preventDefault();
      return false;
   });

   //get promocode list
   function get_promocode_data()
   {
      $.ajax({
         type: "POST",
         url: "https://collegeofwooster.trufflestg.com/promo-list",
         data:{
            "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
         },
         dataType: 'json',
         success: function(response) {
            var obj = JSON.parse(response);
            $("#showPormos").empty();
            if (obj.code == 200) {
               $('#showPormos').append('<div class="d-flex justify-content-between mb-3 align-items-center border border-light  border-top-0 border-right-0 border-left-0"><div class="mb-3" id="" style="width: 51%;"><b>Promocode Name</b></div><div class="mb-3" id="" style="width: 40%;"><b>Coupon Code</b></div><div class="mb-3" id="" style="width: 20%;"></div></div>');
               $.each(obj.data, function(key, value) {
                  if(value.promo_count <= value.use_of_coupn){
                    $('#showPormos').append('<div class="d-flex justify-content-between mb-3 align-items-center border border-light  border-top-0 border-right-0 border-left-0"><div class="mb-3" id="" style="width: 51%;">'+value.promotion_name+'</div><div class="mb-3" id="" style="width: 40%;">'+value.coupn_code+'</div><div style="width:20%;"><button type="button" onclick="apply_promocode('+value.id+')" data-dismiss="modal" class="theme-btn mb-3">Apply</button></div></div><hr>');
                  }
                });
            }
        }

      });
   }

   function get_gift_card_list_data()
   {
      $.ajax({
         type: "POST",
         url: "https://collegeofwooster.trufflestg.com/gift-list",
         data:{
            "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
         },
         dataType: 'json',
         success: function(response) {
            var obj = JSON.parse(response);
                  // alert(obj);

            $("#gifcardShow").empty();
            if (obj.code == 200) {
               $('#gifcardShow').append('<div class="d-flex justify-content-between mb-3 align-items-center border border-light  border-top-0 border-right-0 border-left-0"><div class="mb-3" id="" style="width: 30%;"><b>Gift Card Number</b></div><div class="mb-3" id="" style="width: 30%;"><b>Current Balance</b></div><div class="mb-3" id="" style="width: 20%;"><b>Gift Card Status</b></div><div class="mb-3" id="" style="width: 20%;"></div></div>');
               $.each(obj.data, function(key, value) {
                  if(value.gift_amount > 0)
                  { 
                      if(value.is_gifted == 'Y')
                     {
                        var status="Received";
                     }
                     else
                     {
                        var status="Purchased";

                     }
                     $('#gifcardShow').append('<div class="d-flex justify-content-between mb-3 align-items-center border border-light  border-top-0 border-right-0 border-left-0"><div class="mb-3" id="" style="width: 30%;">'+value.gift_number+'</div> <div class="mb-3" id="" style="width: 30%;">$'+value.gift_amount+'</div><div class="mb-3" id="" style="width: 20%;"><span class="badge badge-success font-weight-medium line-height-16 p-1 font-size-12 px-2 ml-1 w-auto">'+status+'</span></div> <div style="width: 20%;"><a href="javascript:void(0);" onclick="return apply_giftcard('+'\''+value.id+','+value.gift_amount+'\''+')" class="theme-btn mb-3">Apply</a></div></div>');
                    
                  }
               });
            }
        }

      });
   }
   function get_loyalty_data()
   {
      $.ajax({
         type: "POST",
         url: "https://collegeofwooster.trufflestg.com/loyalty-list",
         data:{
            "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
         },
         dataType: 'json',
         success: function(response) {
            $('#showLoyaltyData').empty();
            var obj = JSON.parse(response);
            if (obj.code == 200) {
               $('#showLoyaltyData').append(Number(obj.total_reward_point).toFixed(2)+'= $'+Number(obj.total_redeem).toFixed(2));
               if(obj.total_redeem == null || obj.total_redeem == ''){
                  $('#redeem_balance').val(0);
               }
               else{
                  $('#redeem_balance').val(Number(obj.total_redeem).toFixed(2));
               }
            }else if(obj.code == 202){
               $('#showLoyaltyData').append(0);
               $('#redeem_balance').val(0);
            }
        }
      });
   }

    $("#giftcard_amount,#redeem_amount,#tip_amount").keypress(function(event) {
      if ((event.which != 46 || $(this).val().indexOf('.') != -1) && (event.which < 48 || event.which > 57)) {
        event.preventDefault();
      }
    });

    $('#giftcard_amount,#redeem_amount,#tip_amount').on("cut copy paste", function (e) {
      e.preventDefault();
   });

   //restrict emojis
   $('#first_name,#last_name,#phonenumber,#zipcode,#address,#city,#state,#zip_code').on('input', function (event) { 
        this.value = this.value.replace(/[^a-zA-Z0-9\s]/g, '');
    });

    $('.tot_amount').on('DOMSubtreeModified', function(){
      $("#findSideTotal").html($(".tot_amount").html());
      $("#findSideTotald").html($(".tot_amount").html());
    });


    function login_email(){
      var email = $("#email").val();
      // window.location.href = "signin_email/"+email;
//       // alert(email);
      $.ajax({
         type: "POST",
         url: "https://collegeofwooster.trufflestg.com/signin_email"+"/"+email,
         data:{
            "_token": "0jE9zWn9epHeQ2cnOOzIT8eQNfREIhdL8tCzpRWR",
            "email":email,
         },
         dataType: 'json',
         success: function(response) {

         if(response == "success"){
            window.location.href = "/signin";
         }
         }
      });
   }

   //  function open_modal() {
   //       $("#campusCard").modal('show');
   //  }

   // function save() {
   //    document.getElementById("submittype").value = "useAccount";
   // }
   // function saveandexit() {
   //     document.getElementById("submittype").value = "usePlan";
   // }

   // const itcflag = sessionStorage.getItem('itc');
   // if(itcflag == done){

   //    document.getElementById("itc_amount").value = "$0.00";

   // }

   //  $('#itc_form').on('submit', function(e) {
   //      e.preventDefault();

   //      var type = $("#submittype").val();
   //      var amount = $("#totalAmount").val();


   //          $.ajax({
   //             type: 'POST',
   //             url: "https://collegeofwooster.trufflestg.com/store-account-itc",
   //             data: $('form#itc_form').serialize(),'itc':type,'totalamount' : amount,
   //             dataType: 'json',
   //             success: function(data) {
   //             // location.reload();
   //             console.log("Record has been added successfully");
   //                // /}
   //             },error: function(data) {

   //                //alert(data);

   //                // if(data == "error"){
   //                //    alert("can not use greter than total amount");
   //                // }


   //                if (data.status === 200) {
                  

   //                  window.location.href = "https://collegeofwooster.trufflestg.com/view-cart" + "/" + "itc" ;

   //                   // location.reload();
   //                }
   //                // location.reload();
   //                if (data.status === 422) {
   //                   $(".itc_error").show();
   //                   var errors_ = data.responseJSON;
   //                   $.each(errors_.errors, function(key, value) {
   //                      $('.' + key).html(value);
   //                   });
   //                }
   //             }
   //       });

        
       
   //  });



    //$('#use_Account_use').on('click', function(){



   //    $(document).on('click','#use_Account_use', function()
   //    {

   //     //$('#use_Account_use').click(function(){
      
   //     console.log('test');
   //    $("#use_Account").css("display", "block");
   //    $("#use_plan").css("display", "none");

   //    var totalamount = $("#totalAmount").val();
   //    var mname = $("#mname").val();
   //    var submit_type = "useAccount";
   //    var plan_exempt_amountperunit = $("#plan_exempt_amountperunit").val();

   //       $.ajax({
   //             type: 'POST',
   //             url: "https://collegeofwooster.trufflestg.com/store-account-itc",
   //             data: 'totalamount':totalamount,'mname' : mname ,'submit_type' : submit_type,'plan_exempt_amountperunit' : plan_exempt_amountperunit,
   //             dataType: 'json',
   //             success: function(data) {
   //             // location.reload();
   //             console.log("Record has been added successfully");
   //                // /}
   //             },error: function(data) {


   //                if (data.status === 200) {
                  

   //                  window.location.href = "https://collegeofwooster.trufflestg.com/view-cart" + "/" + "itc" ;

   //                   // location.reload();
   //                }
   //                // location.reload();
   //                if (data.status === 422) {
   //                   $(".itc_error").show();
   //                   var errors_ = data.responseJSON;
   //                   $.each(errors_.errors, function(key, value) {
   //                      $('.' + key).html(value);
   //                   });
   //                }
   //             }
   //       });

    

   // });

   // $('#use_plan_use').on('click', function(){


   //    var totalamount = $("#totalAmount").val();
   //    var mname = $("#mname").val();
   //    var submit_type = "plan";
   //    var plan_exempt_amountperunit = $("#plan_exempt_amountperunit").val();

   //    $("#use_plan").css("display", "block");
   //    $("#use_Account").css("display", "none");


   //    $.ajax({
   //             type: 'POST',
   //             url: "https://collegeofwooster.trufflestg.com/store-account-itc",
   //             data: 'totalamount':totalamount,'mname' : mname ,'submit_type' : submit_type,'plan_exempt_amountperunit' : plan_exempt_amountperunit,
   //             dataType: 'json',
   //             success: function(data) {
   //             // location.reload();
   //             console.log("Record has been added successfully");
   //                // /}
   //             },error: function(data) {


   //                if (data.status === 200) {
                  

   //                  window.location.href = "https://collegeofwooster.trufflestg.com/view-cart" + "/" + "itc" ;

   //                   // location.reload();
   //                }
   //                // location.reload();
   //                if (data.status === 422) {
   //                   $(".itc_error").show();
   //                   var errors_ = data.responseJSON;
   //                   $.each(errors_.errors, function(key, value) {
   //                      $('.' + key).html(value);
   //                   });
   //                }
   //             }
   //       });
   // });

</script>
<script>
   $(document).ready(function(){
      var value = $("#orderType").val();
      if(value == "Take Away")
      {

         // alert("here")
         $("#address").attr('disabled','disabled');
          $("#address").css({cursor:"not-allowed"});
          $('#hide_pick_up').hide();
         $('#hide_delivery').hide();
         $('#hide_save').hide();
         $('#hide_address').hide();


          $("#zipcode").attr('disabled','disabled');
          $("#zipcode").css({cursor:"not-allowed"});


          $("#guest_address").attr('disabled','disabled');
          $("#guest_address").css({cursor:"not-allowed"});
          $("#address").val('');
          $("#select-address").attr('disabled','disabled');
          $("#select-address").css({cursor:"not-allowed"});
          $("#add-address").attr('disabled','disabled');
          $("#add-address").css({cursor:"not-allowed"});
          
           //Delivery_chargeId.style.display = "none";
          $(".Delivery_chargeId").css('display','none');
          $(".paynowhidefour").css('display','none');

         //  var to_amt = $("#total_amount").val();
          var to_amt = $(".tot_amount").html().replace("$", "");
          var delivery_amt = $("#delivery_cost").val();
          var total_newamt = parseFloat(to_amt.replace(",","")) - parseFloat(delivery_amt);
          $(".tot_amount").html("$" + Number(total_newamt).toFixed(2));
          $("#total_amt").val(total_newamt);
          $("#total_amount").val(total_newamt);
          $("#final_item_total").val(total_newamt);
      }
   });
 
</script>



<!-- <script src="//js.pusher.com/3.1/pusher.min.js"></script>
<script type="text/javascript">
  var notificationsWrapper   = $('.dropdown-notifications');
  var notificationsToggle    = notificationsWrapper.find('a[data-toggle]');
  var notificationsCountElem = notificationsToggle.find('i[data-count]');
  var notificationsCount     = parseInt(notificationsCountElem.data('count'));
  var notifications          = notificationsWrapper.find('ul.dropdown-menu');

  if (notificationsCount <= 0) {
    notificationsWrapper.hide();
  }

  // Enable pusher logging - don't include this in production
  // Pusher.logToConsole = true;
  Pusher.logToConsole = true;

  var pusher = new Pusher('8eed4349815d61f8855d', {
    cluster: 'ap2'
  });

  // Subscribe to the channel we specified in our Laravel Event
  var channelRestaurant = pusher.subscribe('Restaurant');

  channelRestaurant.bind('App\\Events\\ModifierManagementEvent', function(data) {
    window.location.reload();
  });
  channelRestaurant.bind('App\\Events\\MenuEvent', function(data) {
    window.location.reload();
  });
  channelRestaurant.bind('App\\Events\\ComboPriceChangeEvent', function(data) {
    window.location.reload();
  });
</script> -->

 

        <script>
        $(document).ready(function(){
            $(".closebtn").click(function(){
                $(".sidenav").removeClass("fullside");
            });

            $("#opensmenu").click(function(){
                $(".sidenav").addClass("fullside");
            });
        });
        </script>    
    </body> 
    <!-- end::Body -->
</html>

Where is the api call that gets the current Tax Exempt Balance?

Answer

The API call is in the store-account-itc method of the CartController. The method is called when the user clicks the Use Account button. The method is called with the following parameters:

Basic API Call

The API call is made using the following code:

$api = new ApiClient();
$api->setApiToken($api_token);
$api->setApiUrl($api_url);
$api->setApiVersion($api_version);
$api->setApiSecret($api_secret);
$api->setApiMethod('POST');
$api->setApiPath('store-account-itc');
$api->setApiData($data);
$api->setApiFormat('json');
$api->setApiHeaders($headers);
$api->setApiQuery($query);
$api->setApiBody($body);
$api->setApiParams($params);
$api->setApiPayload($payload);
$api->setApiRequest($request);
$api->setApiResponse($response);
$api->setApiStatusCode($status_code);
$api->setApiStatusMessage($status_message);






